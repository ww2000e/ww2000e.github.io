<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[webpackÂ≠¶‰π†Á¨îËÆ∞]]></title>
    <url>%2F2019%2F07%2F20%2Fwebpack-learn%2F</url>
    <content type="text"><![CDATA[ÂèÇËÄÉÔºö ËÄÅÈ©¨ VIP ÂÖ®Ê†àÊïôÁ®ã aicoder.com webpackÂÖ•Èó®ÂÆåÊï¥demoÂÆâË£Öwebpack123mkdir mywp &amp;&amp; cd mywpnpm init -ynpm install webpack webpack-cli --save-dev --registry=https://registry.npm.taobao.org ÂÆâË£ÖLodashiolodashÊòØ‰∏Ä‰∏™‰∏ÄËá¥ÊÄß„ÄÅÊ®°ÂùóÂåñ„ÄÅÈ´òÊÄßËÉΩÁöÑ JavaScript ÂÆûÁî®Â∑•ÂÖ∑Â∫ì„ÄÇÂÆòÁΩë: https://www.lodashjs.com/ Áî®Êù•ÂÜôÁÆÄÂçïÁ§∫‰æã ÁõÆÂΩïÁªìÊûÑÂèäÊñá‰ª∂12345678910webpack-demo |- package.json |- webpack.config.js |- /dist |- bundle.js |- index.html |- /src |- style.css |- index.js |- /node_modules Êñ∞Âª∫src/index.js: 12345678910import _ from &apos;lodash&apos;;function createDomElement() &#123; var dom = document.createElement(&apos;div&apos;); dom.innerHTML = _.join([&apos;aicoder&apos;, &apos;.com&apos;, &apos; wow&apos;], &apos;&apos;); dom.className = &apos;hello&apos;; return dom;&#125;document.body.appendChild(createDomElement()); Êñ∞Âª∫dist/index.html 123456789101112&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt; &lt;title&gt;Ëµ∑Ê≠•&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;script src=&quot;./main.js&quot;&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; Êñ∞Âª∫src/style.css 123.hello &#123; color: red;&#125; Êñ∞Âª∫ webpack.config.js 1234567891011121314151617const path = require(&apos;path&apos;);module.exports = &#123; entry: &apos;./src/index.js&apos;, output: &#123; filename: &apos;bundle.js&apos;, path: path.resolve(__dirname, &apos;dist&apos;) &#125;, module: &#123; rules: [ &#123; test: /\.css$/, use: [&apos;style-loader&apos;, &apos;css-loader&apos;] &#125; ] &#125;&#125;; ÊâßË°åwebpackÂëΩ‰ª§ÂΩìÂâçÁõÆÂΩïÊâßË°å 1npx webpack Êü•ÁúãÁªìÊûúdist Êñá‰ª∂Â§π‰∏≠Â∫îËØ•ÁîüÊàê‰∫Ümain.jsÔºåÊâìÂºÄindex.htmlÁúãÂà∞ÊïàÊûú]]></content>
      <categories>
        <category>ÂâçÁ´Ø</category>
      </categories>
      <tags>
        <tag>webpack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[openbsd6.4ÂçáÁ∫ßËá≥6.5]]></title>
    <url>%2F2019%2F07%2F13%2Fopenbsd-upgrade-6-4-6-5%2F</url>
    <content type="text"><![CDATA[ÂèÇËÄÉÂÆòÊñπËØ¥ÊòéÔºöhttps://www.openbsd.org/faq/upgrade65.html ‰∏ãËΩΩÂÜÖÊ†∏1wget https://cdn.openbsd.org/pub/OpenBSD/6.5/amd64/bsd.rd È™åËØÅÂÜÖÊ†∏Á≠æÂêç1signify -C -p /etc/signify/openbsd-65-base.pub -x SHA256.sig bsd.rd ÂêØÂä®ÂçáÁ∫ßÂºïÂØºÂ¶ÇÊûúÁ≠æÂêçÈ™åËØÅÊ≤°ÈóÆÈ¢òÔºåÂèÇËÄÉÊñáÊ°£Â∞ÜÁéØÂ¢ÉÂáÜÂ§áÂÆåÊàêÂêéÔºåÂ∞ÜÂàöÂàöÊñá‰ª∂ÊîæÂÖ•ÂêØÂä®ÁõÆÂΩï 1cp bsd.rd /nbsd.rd ÈáçÂêØÁ≥ªÁªüÂêéÂú®ÊèêÁ§∫Á¨¶ÈÄâÊã©UpgradeÔºåÊåâÁÖßÊèêÁ§∫Êìç‰ΩúÂç≥ÂèØ Êõ¥Êñ∞ËΩØ‰ª∂ÂåÖÈáçÂêØÂÆåÊàêÂêéÁ≥ªÁªüÂ∫îËØ•ÊòØ6.5ÁöÑ‰∫ÜÔºåÊé•‰∏ãÊù•Êõ¥Êñ∞ËΩØ‰ª∂ÂåÖ 1#pkg_add -u]]></content>
      <categories>
        <category>openbsd</category>
      </categories>
      <tags>
        <tag>openbsd</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[celeryÂ≠¶‰π†Á¨îËÆ∞]]></title>
    <url>%2F2019%2F07%2F12%2Fcelery-note%2F</url>
    <content type="text"><![CDATA[ÂÆâË£Ö Áî®pipÂÆâË£Öcelery 1pip install celery ÂÆâË£ÖredisÊù•ÂΩìbroker Á¨¨‰∏Ä‰∏™‰æãÂ≠ê Êñ∞Âª∫tasks.pyÁºñÂÜô‰ªªÂä° 1234567from celery import Celeryapp = Celery('tasks', backend='redis://:password@localhost:6379/0', broker='redis://:password@localhost:6379/0')@app.taskdef add(x, y): return x + y ÂêØÂä®celeryÁöÑworkerÊúçÂä° 1$ celery -A tasks worker --loglevel=info Ë∞ÉÁî®ÂàöÂàöÁºñÂÜôÁöÑ‰ªªÂä° 123456789101112from tasks import addadd.delay(4, 4)# delay()ÊòØapply_async()ÁöÑÁÆÄÁü≠Ë∞ÉÁî®ÊñπÊ≥ïÔºåÂºÇÊ≠•Ë∞ÉÁî®‰ªªÂä°result = add.delay(4, 4)# ready()ËøîÂõû‰ªªÂä°ÊòØÂê¶ÂÆåÊàêresult.ready()# Á≠âÂæÖ‰ªªÂä°ÁªìÊûúresult.get(timeout=1)# propagateÂèÇÊï∞ËÆæÁΩÆ‰∏∫FalseÂèØ‰ª•Ë¶ÜÁõñget()ÈáåÈù¢exceptionresult.get(propagate=False)# Ëé∑Âèñget()ÈáåÈù¢exceptionÁöÑtracebackresult.traceback]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>celery</tag>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[bashÂêéÂè∞ËøêË°å‰∏çÊèêÁ§∫ËøõÁ®ãÂè∑]]></title>
    <url>%2F2019%2F07%2F02%2Fbash%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C%E4%B8%8D%E6%8F%90%E7%A4%BA%2F</url>
    <content type="text"><![CDATA[linuxÁöÑshellÈáåÈù¢ÂêéÂè∞ËøêË°åÁ®ãÂ∫èÊÄª‰ºöÊèêÁ§∫ËøõÁ®ãÂè∑ÂíåËøõÁ®ãÂÆåÊàêÁöÑÊèêÁ§∫ Á±ª‰ººËøôÊ†∑Ôºö 1234$ls &amp;[1] 119788$ [1] + 119788 done Â¶ÇÊûú‰∏çÈúÄË¶ÅÊèêÁ§∫ÔºåÂèØ‰ª•ËøôÊ†∑Ëß£ÂÜ≥Ôºö 1$(ls &amp;) Âä†‰∏ÄÂØπÊã¨Âè∑Âç≥ÂèØ,ËÆ©ÂÆÉÂú®Â≠êshellÈáåÈù¢ÊâßË°å]]></content>
      <categories>
        <category>shell</category>
      </categories>
      <tags>
        <tag>shell</tag>
        <tag>bash</tag>
        <tag>zsh</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[linuxÂè™ËÉΩÊêúÁ¥¢Âà∞ÈÉ®ÂàÜÊó†Á∫øÁΩëÈóÆÈ¢òËß£ÂÜ≥]]></title>
    <url>%2F2019%2F06%2F13%2Flinuxwifi%2F</url>
    <content type="text"><![CDATA[‚Äã Á¨îËÆ∞Êú¨‰∏äubuntuÊõ¥Êñ∞‰∏∫ÊúÄÊñ∞ÁöÑÁ≥ªÁªüÂêéÔºåÁ™ÅÁÑ∂Âè™ËÉΩÊêúÂà∞‰∏ÄÈÉ®ÂàÜÁΩëÁªúÔºåÂÆ∂ÈáåÁöÑÊó†Á∫øÁΩëÊêúÁ¥¢‰∏çÂá∫Êù•ÔºåÊü•‰∫ÜÂæàÂ§öËµÑÊñôÈÉΩÊ≤°Ëß£ÂÜ≥ÔºåÁõ¥Âà∞ÊúâÂ§©Á™ÅÁÑ∂win10‰πüÂá∫Áé∞ÂêåÊ†∑Áä∂ÂÜµÔºåÊü•ÈòÖËµÑÊñôÂèëÁé∞Ôºåwin10ÂèØ‰ª•‰øÆÊîπÊó†Á∫øÁΩëÂç°ÁöÑcountry regionÂÄºÔºå‰∏ÄËà¨1~13ÔºåÂíåÊó†Á∫øË∑ØÁî±Âô®ÁöÑ‰ø°ÈÅìÂØπ‰∏äÂç≥ÂèØÔºåÂéüÊù•ÊòØÊàëÊó†Á∫øË∑ØÁî±Ëá™Âä®ËÆæÁΩÆÁöÑ‰ø°ÈÅìÊØîËæÉÂÅèÈó®ÔºåÊó¢ÁÑ∂‰∏§‰∏™Á≥ªÁªüÈÉΩÊêúÁ¥¢‰∏çÂà∞ÔºåËøòÊòØÊîπÊó†Á∫øË∑ØÁî±ÊØîËæÉÊñπ‰æøÔºåÁôªÈôÜÂêéÔºå‰øÆÊîπÊó†Á∫øË∑ØÁî±ÁöÑ‰ø°ÈÅì‰∏∫10ÔºåubuntuÔºåwin10ÈÉΩÂèØ‰ª•Ê≠£Â∏∏Ëøû‰∏ä‰∫Ü„ÄÇ]]></content>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vimÊèí‰ª∂ÂÆâË£Ö‰ΩøÁî®Êï¥ÁêÜËÆ∞ÂΩï]]></title>
    <url>%2F2019%2F03%2F27%2Fvim-plugin-note%2F</url>
    <content type="text"><![CDATA[Ëá™Â∑±Áî®Âà∞ÁöÑvimÊèí‰ª∂ÂÆâË£ÖÔºå‰ΩøÁî®ÊñπÊ≥ïËÆ∞ÂΩï„ÄÇÂü∫‰∫évim8.x„ÄÇÊèí‰ª∂ÁÆ°ÁêÜ‰ΩøÁî®vundle„ÄÇ vundle ctrl-p vim-vue vim-flake8 vim-autoformat vim-go powerline solarizedÈÖçËâ≤ vundleÊèí‰ª∂ÁÆ°ÁêÜÂ∑•ÂÖ∑ ÂÆâË£ÖÂÖàËé∑ÂèñÊèí‰ª∂1git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim ÁÑ∂Âêé.vimrc‰∏≠Âä†ÂÖ•‰ª•‰∏ãÈÖçÁΩÆ, ÊåâÁÖßÊ®°Êùø‰øÆÊîπ‰∏ã,ÈáåÈù¢ÂÜôÁöÑÂá†‰∏™pluginÊàëÈÉΩÂà†‰∫Ü 12345678910111213141516171819202122232425262728293031323334353637383940414243set nocompatible &quot; be iMproved, requiredfiletype off &quot; required&quot; set the runtime path to include Vundle and initializeset rtp+=~/.vim/bundle/Vundle.vimcall vundle#begin()&quot; alternatively, pass a path where Vundle should install plugins&quot;call vundle#begin(&apos;~/some/path/here&apos;)&quot; let Vundle manage Vundle, requiredPlugin &apos;VundleVim/Vundle.vim&apos;&quot; The following are examples of different formats supported.&quot; Keep Plugin commands between vundle#begin/end.&quot; plugin on GitHub repoPlugin &apos;tpope/vim-fugitive&apos;&quot; plugin from http://vim-scripts.org/vim/scripts.html&quot; Plugin &apos;L9&apos;&quot; Git plugin not hosted on GitHubPlugin &apos;git://git.wincent.com/command-t.git&apos;&quot; git repos on your local machine (i.e. when working on your own plugin)Plugin &apos;file:///home/gmarik/path/to/plugin&apos;&quot; The sparkup vim script is in a subdirectory of this repo called vim.&quot; Pass the path to set the runtimepath properly.Plugin &apos;rstacruz/sparkup&apos;, &#123;&apos;rtp&apos;: &apos;vim/&apos;&#125;&quot; Install L9 and avoid a Naming conflict if you&apos;ve already installed a&quot; different version somewhere else.&quot; Plugin &apos;ascenator/L9&apos;, &#123;&apos;name&apos;: &apos;newL9&apos;&#125;&quot; All of your Plugins must be added before the following linecall vundle#end() &quot; requiredfiletype plugin indent on &quot; required&quot; To ignore plugin indent changes, instead use:&quot;filetype plugin on&quot;&quot; Brief help&quot; :PluginList - lists configured plugins&quot; :PluginInstall - installs plugins; append `!` to update or just :PluginUpdate&quot; :PluginSearch foo - searches for foo; append `!` to refresh local cache&quot; :PluginClean - confirms removal of unused plugins; append `!` to auto-approve removal&quot;&quot; see :h vundle for more details or wiki for FAQ&quot; Put your non-Plugin stuff after this line ÈÖçÁΩÆÂÆåÊàêÂêéÂëΩ‰ª§Ë°åÊâßË°å1vim +PluginInstall +qall ÊàñËÄÖvimÈáåÈù¢ÂëΩ‰ª§Ë°åÊâßË°å1:PluginInstall ‰ΩøÁî®Êü•ÁúãÂ∏ÆÂä©1:h vundle Â∏∏ËßÅÂëΩ‰ª§12345:PluginInstall:PluginUpdate:PluginSearch:PluginList:PluginClean ctrl-pÊ®°Á≥äÊêúÁ¥¢Êñá‰ª∂Êèí‰ª∂ ÂÆâË£ÖÊâìÂºÄ.vimrcÂä†ÂÖ•‰∏ãÈù¢ÂÜÖÂÆπÂêéÔºåÊâßË°å:PluginInstall1Plugin &apos;ctrlpvim/ctrlp.vim&apos; ‰ΩøÁî® Âø´Êç∑ÈîÆ ÂäüËÉΩ ctrl + p ÂºÄÂêØÊñá‰ª∂ÊêúÁ¥¢ F5 Âà∑Êñ∞ÂΩìÂâçÁõÆÂΩïÂÜÖÂÆπ ctrl + f/b ÂàáÊç¢ÊòæÁ§∫Ê®°Âºè ctrl + d Âè™ÊêúÁ¥¢Êñá‰ª∂Âêç ctrl + r Ê≠£ÂàôÊü•ÊâæÊ®°Âºè ctrl + j/k ÊêúÁ¥¢ÁªìÊûú‰∏≠ÁßªÂä®ÂÖâÊ†á ctrl + t Êñ∞Ê†áÁ≠æÈ°µÊâìÂºÄ ctrl + v/x ÂûÇÁõ¥ÂàÜÂâ≤ÊâìÂºÄ / Ê∞¥Âπ≥ÂàÜÂâ≤ÊâìÂºÄ ctrl + n/p ‰∏ä‰∏ãÁøªÈòÖ‰∏äÊ¨°ÊêúÁ¥¢ÂéÜÂè≤ ctrl + y Âú®ÈÄâ‰∏≠Êñá‰ª∂ÁöÑÁà∂Á∫ßÁõÆÂΩïÂàõÂª∫Êñ∞Êñá‰ª∂ ctrl + z Ê†áËÆ∞ÈÄâÊã©Â§ö‰∏™Êñá‰ª∂ ctrl + o ÈÄâÊã©ÊâìÂºÄÊñπÂºè vim-vuevue‰ª£Á†ÅÈ´ò‰∫Æ ÂÆâË£Ö.vimrc‰∏≠Âä†ÂÖ•1Plugin &apos;posva/vim-vue&apos; ‰ΩøÁî®ÊâìÂºÄ.vueÂç≥ÂèØ vim-flake8Ê£ÄÊü•pythonÊòØÂê¶Êåâpep8ËßÑËåÉ ÂÆâË£Ö123Plugin &apos;nvie/vim-flake8&apos;pip3 install flake8 ‰ΩøÁî®ÊåâF7ÂºÄÂêØ vim-autoformatvimËá™Âä®Ê†ºÂºèÂåñ‰ª£Á†ÅÊèí‰ª∂ ÂÆâË£Ö.vimrc‰∏≠Â¢ûÂä†1Plugin &apos;Chiel92/vim-autoformat&apos; Â¢ûÂä†Âø´Êç∑ÈîÆÈÖçÁΩÆ1noremap &lt;F3&gt; :Autoformat&lt;CR&gt; Â¢ûÂä†ÂØπpython‰ª£Á†ÅÁöÑÊîØÊåÅ,ÂÆâË£Öautopep81pip install --upgrade autopep8 ‰ΩøÁî®ÊåâF3ÂºÄÂêØ vim-gogolangÁöÑÈ´ò‰∫ÆÔºå‰ª£Á†ÅÊ£ÄÊü•Êèí‰ª∂„ÄÇ ÂÆâË£ÖÂæàÁÆÄÂçïÔºå‰∏ªË¶ÅÊòØ‰ª£ÁêÜËÆæÁΩÆËä±‰∫ÜÁÇπÂäüÂ§´„ÄÇ ÂÆâË£ÖÈÄöËøávundleÂÆâË£ÖÔºåvimrc‰∏≠ËÆæÁΩÆ1Plugin &apos;fatih/vim-go&apos; ÁÑ∂ÂêéÊâßË°å1vim +PluginInstall +qall Ê≤°ÈóÆÈ¢òÁöÑËØùÔºågoÁöÑÈ´ò‰∫ÆÂ∑≤ÁªèÊîØÊåÅ‰∫ÜÔºåÊé•‰∏ãÊù•ÂºÄÂßãÂÆâË£Ö‰∏Ä‰∫õÂ∑•ÂÖ∑,Âõ†‰∏∫ÈúÄË¶Å‰ΩøÁî®go getÔºåÊâÄ‰ª•ÂæóËÆæÁΩÆ‰ª£ÁêÜ,‰∏ÄÂºÄÂßãÊàëÁõ¥Êé•export https_proxyÊàñËÄÖgit ÈÖçÁΩÆ‰ª£ÁêÜÔºåÁÑ∂ÂêéËøõÂÖ•vimÂºÄÂßãÂÆâË£Övim-goÂ∑•ÂÖ∑ÔºåÊÄªÊòØgo getÂ§±Ë¥•ÔºåÂêéÊù•ÂèëÁé∞‰∏Ä‰∏™Ëß£ÂÜ≥ÊñπÊ≥ïÔºö1# export https_proxy=http://127.0.0.1:8118; vim ÁÑ∂ÂêéÂú®vimÂëΩ‰ª§Ë°åÊ®°Âºè‰∏≠ËæìÂÖ•1:GoInstallBinaries Âç≥ÂèØÂÖ®ÈÉ®ÂÆâË£ÖÂÆåÊàê„ÄÇËøôÊ†∑ÂÆâË£ÖÂêåÊ†∑ÂèØÁî®‰∫éÂÖ∂‰ªñgo getÂëΩ‰ª§ÔºåÂ∞Üexport https_proxyÂÜôÂú®go getÂâçÈù¢„ÄÇ ‰ΩøÁî®vimÂëΩ‰ª§Ë°å‰∏≠Êü•ÁúãËØ¥Êòé1:h vim-go Âø´Êç∑ÈîÆ ÂäüËÉΩ ctrl + ] Ë∑≥ËΩ¨Âà∞ÂÆö‰πâÂ§Ñ ctrl + t ‰ªéctrl + ] Ë∑≥ËΩ¨ÁöÑÂú∞ÊñπË∑≥ËΩ¨ÂõûÂéª ÂèÇËÄÉ https://github.com/fatih/vim-go-tutorial#quick-setup powerlineÂÆâË£Ö.vimrc‰∏≠Âä†ÂÖ• 1Plugin &apos;powerline/powerline&apos;, &#123;&apos;rtp&apos;: &apos;powerline/bindings/vim/&apos;&#125; Âè¶Â§ñË¶Å‰∏ãËΩΩpowerline-fontsÂ≠ó‰ΩìÔºåÊâßË°åinstall.shËÑöÊú¨ÂÆâË£Ö ‰ΩøÁî®.vimrc‰∏≠Âä†ÂÖ•ÈÖçÁΩÆ 1set laststatus=2 solarizedÈÖçËâ≤ÂÆâË£Ö.vimrc‰∏≠Âä†ÂÖ•1Plugin &apos;altercation/vim-colors-solarized&apos; ‰ΩøÁî®.vimrc‰∏≠Âä†ÂÖ•ÈÖçÁΩÆ123let g:solarized_termcolors=256set background=lightÂíådark‰∫åÈÄâ‰∏Äcolorscheme solarized]]></content>
      <categories>
        <category>vim</category>
      </categories>
      <tags>
        <tag>vim</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[centos7‰∏ãÁºñËØëvim8]]></title>
    <url>%2F2019%2F03%2F23%2Fcentos7%E4%B8%8B%E7%BC%96%E8%AF%91vim8-1%2F</url>
    <content type="text"><![CDATA[ËÆ∞ÂΩï‰∏ãÁºñËØëvim8Á¢∞Âà∞ÁöÑÂùë ‰∏ãËΩΩvimÊ∫êÁ†Å‰∏ãËΩΩÊúÄÊñ∞ÁöÑvim8Ê∫êÁ†Å1git clone https://github.com/vim/vim.git ÁºñËØëÂπ∂ÊîØÊåÅpython3ÂÖàËøêË°åconfigure,ËÆ∞ÂæóÂ∏¶‰∏ä‚Äìenable-fail-if-missing ÔºåÂê¶Âàô‰∏ç‰ºöÂéªÊä•ÈîôÔºåÂõ†‰∏∫Ê≤°ÂºÄËøô‰∏™È°πÔºåÊàëÂßãÁªàÊâæ‰∏çÂà∞python3ÊîØÊåÅÁºñËØë‰∏çËøõÊù•ÂéüÂõ†Ôºå‰πüÊ≤°Êúâ‰ªª‰ΩïÊä•ÈîôÔºåÊúÄÂêéÂä†‰∏äÂêéÂèëÁé∞ÊòØpythonÁöÑconfigÊñá‰ª∂Â§πÊâæ‰∏çÂà∞„ÄÇ1./configure --with-features=huge --enable-multibyte --enable-python3interp=yes --prefix=/usr/local/vim --with-python3-command=python3.4 --enable-fail-if-missing --with-python3-config-dir=/usr/lib64/python3.4/config-3.4m ÁÑ∂ÂêémakeÔºåmake installÂç≥ÂèØ12make -j8make install ÊúÄÂêéÊõøÊç¢ÊéâËÄÅÁöÑvim1ln -s /usr/local/vim/bin/vim /usr/bin/vim]]></content>
      <categories>
        <category>vim</category>
      </categories>
      <tags>
        <tag>centos7</tag>
        <tag>linux</tag>
        <tag>vim8</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux‰∏ãpreztoÂíåtmuxÈÖçÁΩÆ]]></title>
    <url>%2F2019%2F03%2F11%2Fprezto-tmux-config%2F</url>
    <content type="text"><![CDATA[ËÆ∞ÂΩï‰∏ãpreztoÂíåtmuxÁöÑÂÆâË£ÖÈÖçÁΩÆÔºåtmuxÂü∫‰∫é2.8ÁâàÊú¨ preztoÂÆâË£Ö12345678$zsh$git clone --recursive https://github.com/sorin-ionescu/prezto.git &quot;$&#123;ZDOTDIR:-$HOME&#125;/.zprezto&quot;$setopt EXTENDED_GLOBfor rcfile in &quot;$&#123;ZDOTDIR:-$HOME&#125;&quot;/.zprezto/runcoms/^README.md(.N); do ln -s &quot;$rcfile&quot; &quot;$&#123;ZDOTDIR:-$HOME&#125;/.$&#123;rcfile:t&#125;&quot;done ÈÖçÁΩÆ12345678910111213141516171819202122232425262728# Êñ∞Â¢ûtmuxÊ®°Âùó$sed -i &quot;s/ &apos;prompt&apos;/ &apos;prompt&apos; \\\\\n &apos;tmux&apos;\n/g&quot; /root/.zpreztorc# ÂºÄÊú∫ÂêØÂä®tmuxÔºåremote‰∏∫ËøúÁ®ãÁôªÈôÜÊó∂ÊâçÂêØÂä®tmux$sed -i &quot;s/# zstyle &apos;:prezto:module:tmux:auto-start&apos; remote &apos;yes&apos;/zstyle &apos;:prezto:module:tmux:auto-start&apos; remote &apos;yes&apos;/g&quot; /root/.zpreztorc# ÂëΩ‰ª§Ë°å‰ΩøÁî®viÊ®°Âºè $sed -i &quot;s/zstyle &apos;:prezto:module:editor&apos; key-bindings &apos;emacs&apos;/zstyle &apos;:prezto:module:editor&apos; key-bindings &apos;vi&apos;/g&quot; /root/.zpreztorc# prezto‰∏ãctrl+rÁîüÊïà$vim ~/.zpreztorczstyle &apos;:prezto:load&apos; pmodule \ &apos;environment&apos; \ &apos;terminal&apos; \ &apos;editor&apos; \ &apos;history&apos; \ &apos;directory&apos; \ &apos;spectrum&apos; \ &apos;utility&apos; \ &apos;completion&apos; \ &apos;prompt&apos; \ &apos;history-substring-search&apos; \ #Â¢ûÂä†history-substring-search &apos;tmux&apos;# .zshrc‰∏≠Êñ∞Â¢û‰∏ÄË°å$vim ~/.zshrcbindkey &quot;^R&quot; history-incremental-search-backward tmuxÈÖçÁΩÆprezto‰∏≠ËÆæÁΩÆËøáÂêØÂä®tmuxÔºåËøôÈáåÂè™ÈúÄË¶ÅÈÖçÁΩÆ‰∏ãÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇ 12# ÂÆâË£ÖxclipÊîØÊåÅÂ§çÂà∂Âà∞Á≥ªÁªüÂâ™Ë¥¥Êùøapt install xclip ÊâìÂºÄ~/.tmux.confÂÜôÂÖ•‰ª•‰∏ãÂÜÖÂÆπ1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677#set -g prefix C-b # Some people like set leader key to Crtl_a, but I don&apos;t like it!#unbind C-b# Split windowsbind \ split-window -hbind - split-window -vset-window-option -g mode-keys vi set -g status-keys vibind-key -T copy-mode-vi &apos;v&apos; send-keys -X begin-selection bind-key -T copy-mode-vi y send-keys -X copy-selectionbind-key -T copy-mode-vi r send-keys -X rectangle-togglebind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel &apos;xclip -in -selection clipboard&apos; set -g base-index 1 # window index from 1, not zeroset -s escape-time 0bind r source-file ~/.tmux.conf \; display &quot;Reloaded!&quot;bind-key / command-prompt &quot;split-window -h &apos;exec man %%&apos;&quot;set-option -g allow-rename off # prevent system from renaming our windowset -g default-terminal &quot;screen-256color&quot;set -g status-justify leftset -g status-interval 1set -g status-position topset -g status-bg colour234set -g status-fg colour137set -g status-attr dimset -g status-left &apos;&apos;# statusÂè≥ËæπÊòæÁ§∫ÂΩìÂâçÊó∂Èó¥set -g status-right &apos;#[fg=colour233,bg=colour241,bold] %d/%m #[fg=colour233,bg=colour245,bold] %H:%M:%S &apos;set -g status-right-length 50set -g status-left-length 20# ËÆæÁΩÆwindowsËèúÂçïÈ¢úËâ≤ Prefix+wsetw -g clock-mode-colour colour135setw -g mode-attr boldsetw -g mode-fg colour15setw -g mode-bg colour238# pane borderset -g pane-border-bg colour235set -g pane-border-fg colour238set -g pane-active-border-bg colour236set -g pane-active-border-fg colour15# ËÆæÁΩÆstatusÈù¢ÊùøÂΩìÂâçwindowsÈ¢úËâ≤setw -g window-status-current-fg colour81setw -g window-status-current-bg colour238setw -g window-status-current-attr boldsetw -g window-status-current-format &apos; #I#[fg=colour250]:#[fg=colour255]#W#[fg=colour50]#F &apos;# ËÆæÁΩÆstatusÈùûÊ¥ªË∑ÉwindowsÈ¢úËâ≤setw -g window-status-fg colour138setw -g window-status-bg colour235setw -g window-status-attr nonesetw -g window-status-format &apos; #I#[fg=colour237]:#[fg=colour250]#W#[fg=colour244]#F &apos;setw -g window-status-bell-attr boldsetw -g window-status-bell-fg colour255setw -g window-status-bell-bg colour1# ËÆæÁΩÆmessageÂ≠ó‰ΩìÈ¢úËâ≤set -g message-attr bold#set -g message-fg colour232set -g message-fg colour15set -g message-bg colour236# Ëß£ÂÜ≥xshell‰∏ãtmuxÁöÑÂàÜÂ±èresizeÈóÆÈ¢òbind -r ^k resizep -U 10 # upward (prefix Ctrl+k)bind -r ^j resizep -D 10 # downward (prefix Ctrl+j)bind -r ^h resizep -L 10 # to the left (prefix Ctrl+h)bind -r ^l resizep -R 10 # to the right (prefix Ctrl+l)]]></content>
      <categories>
        <category>linuxÂëΩ‰ª§Ë°å</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>bash</tag>
        <tag>Â≠¶‰π†Á¨îËÆ∞</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[linuxÁªàÁ´ØÁ®ãÂ∫èÊî∂ÈõÜ]]></title>
    <url>%2F2018%2F12%2F28%2Flinux-console%2F</url>
    <content type="text"><![CDATA[Â§©Ê∞îÈ¢ÑÊä•1curl http://wttr.in/ asciiquariumÂ≠óÁ¨¶ÁïåÈù¢ÁöÑÊ∞¥ÊóèÈ¶Ü KMSCONËÉΩ‰Ωú‰∏∫ Linux ÂÜÖÊ†∏ÂÜÖÁΩÆÁªàÁ´ØÁöÑ‰∏Ä‰∏™ÂÆåÊï¥Êõø‰ª£,ÊîØÊåÅ‰∏≠Êñá]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>console</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[dockerÂ≠¶‰π†Á¨îËÆ∞]]></title>
    <url>%2F2018%2F12%2F05%2Fdocker-note%2F</url>
    <content type="text"><![CDATA[ËÆ∞ÂΩïdockerÂ∏∏Áî®ÂëΩ‰ª§ dockerÈïúÂÉèÂØºÂá∫ÈïúÂÉè1docker save [img id] &gt; [img name].tar ‰øùÂ≠òÈïúÂÉèÁöÑÂéÜÂè≤ ÂØºÂÖ•ÈïúÂÉè1docker load &lt; [img name].tar dockerÂÆπÂô®ÂØºÂá∫ÂÆπÂô®1docker export [container id] &gt; [container id].tar ‰∏çÂê´ÈïúÂÉèÂéÜÂè≤ ÂØºÂÖ•ÂÆπÂô®1docker import [container id].tar]]></content>
      <categories>
        <category>docker</category>
      </categories>
      <tags>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[linuxÊ°åÈù¢Êó•Â∏∏‰ΩøÁî®ÈóÆÈ¢òËÆ∞ÂΩï]]></title>
    <url>%2F2018%2F11%2F17%2Flinux-desktop-note%2F</url>
    <content type="text"><![CDATA[ËÆ∞ÂΩïÂêÑ‰∏™ÂèëË°åÁâàÊ°åÈù¢Êó•Â∏∏‰ΩøÁî®ÈóÆÈ¢ò zshÁöÑpreztoÊèí‰ª∂ÂºÄÂêØctrl+rÂäüËÉΩ1234567891011121314151617181920$vim ~/.zpreztorczstyle &apos;:prezto:load&apos; pmodule \ &apos;environment&apos; \ &apos;terminal&apos; \ &apos;editor&apos; \ &apos;history&apos; \ &apos;directory&apos; \ &apos;spectrum&apos; \ &apos;utility&apos; \ &apos;completion&apos; \ &apos;prompt&apos; \ &apos;history-substring-search&apos; \ #Â¢ûÂä†history-substring-search &apos;tmux&apos;# .zshrc‰∏≠Êñ∞Â¢û‰∏ÄË°å$vim ~/.zshrcbindkey &quot;^R&quot; history-incremental-search-backward ubuntuÁöÑsublimeÊîØÊåÅ‰∏≠ÊñáËæìÂÖ•Ê≥ïÊåâÁÖßÁΩëÂùÄÂÜÖÊ≠•È™§ÂÆâË£Ö https://github.com/lyfeyaj/sublime-text-imfix Á°Æ‰øùsublimeÂÆâË£ÖÂú®/opt/sublime_textÁõÆÂΩï‰∏ãÁ°Æ‰øù/usr/bin/sublÂèØÁî®Â¶ÇÊûúÊ≤°ÊúâÁîüÊàêËèúÂçïÈ°π,Ëá™Ë°åÂ§çÂà∂src/sublime_text.desktopËá≥/usr/share/applications/ÁõÆÂΩï‰∏ã gnome3ÁªôhomeÁõÆÂΩïÁöÑÈªòËÆ§Êñá‰ª∂Â§πÂàáÊç¢ÊàêËã±Êñá ÂèÇËÄÉÔºöhttp://dbua.iteye.com/blog/943945 homeÁõÆÂΩï‰∏ã‰∏≠ÊñáÂú®shellÈáåÈù¢Áî®Ëµ∑Êù•ÂæàÈ∫ªÁÉ¶ÔºåÁΩë‰∏äÊâæ‰∫Ü‰øÆÊîπÊñπÊ≥ï123$export LANG=en_US$xdg-user-dirs-gtk-update$export LANG=zh_CN.UTF-8 ubuntu18.04,18.10ÊêúÁãóËæìÂÖ•Ê≥ï ÂèÇËÄÉÔºöhttps://www.jianshu.com/p/c936a8a2180e ËΩªÈáèÊµèËßàÂô®ËØï‰∫ÜÂ•ΩÂ§öÔºåÊúÄÂêéÈÄâÊã©:Falkon]]></content>
      <categories>
        <category>linuxÊ°åÈù¢</category>
      </categories>
      <tags>
        <tag>linuxÊ°åÈù¢</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonÂ≠¶‰π†Á¨îËÆ∞]]></title>
    <url>%2F2018%2F10%2F23%2Fpython%E6%A8%A1%E5%9D%97%E6%95%B4%E7%90%86%2F</url>
    <content type="text"><![CDATA[ÂèÇËÄÉ: https://realpython.com/ Êü•ÁúãÂΩìÂâçÂÖ®Â±ÄÂèòÈáèÔºåÂ±ÄÈÉ®ÂèòÈáè12345678910111213# &quot;globals()&quot; returns a dict# with all global variables# in the current scope:&gt;&gt;&gt; globals()&#123;...&#125;# &quot;locals()&quot; does the same# but for all local variables# in the current scope:&gt;&gt;&gt; locals()&#123;...&#125; ÂêàÂπ∂Â≠óÂÖ∏12345678910111213141516# How to merge two dictionaries# in Python 3.5+&gt;&gt;&gt; x = &#123;&apos;a&apos;: 1, &apos;b&apos;: 2&#125;&gt;&gt;&gt; y = &#123;&apos;b&apos;: 3, &apos;c&apos;: 4&#125;&gt;&gt;&gt; z = &#123;**x, **y&#125;&gt;&gt;&gt; z&#123;&apos;c&apos;: 4, &apos;a&apos;: 1, &apos;b&apos;: 3&#125;# In Python 2.x you could# use this:&gt;&gt;&gt; z = dict(x, **y)&gt;&gt;&gt; z&#123;&apos;a&apos;: 1, &apos;c&apos;: 4, &apos;b&apos;: 3&#125; Â≠óÂÖ∏ÊéíÂ∫è12345678910111213# How to sort a Python dict by value# (== get a representation sorted by value)&gt;&gt;&gt; xs = &#123;&apos;a&apos;: 4, &apos;b&apos;: 3, &apos;c&apos;: 2, &apos;d&apos;: 1&#125;&gt;&gt;&gt; sorted(xs.items(), key=lambda x: x[1])[(&apos;d&apos;, 1), (&apos;c&apos;, 2), (&apos;b&apos;, 3), (&apos;a&apos;, 4)]# Or:&gt;&gt;&gt; import operator&gt;&gt;&gt; sorted(xs.items(), key=operator.itemgetter(1))[(&apos;d&apos;, 1), (&apos;c&apos;, 2), (&apos;b&apos;, 3), (&apos;a&apos;, 4)] Ê†ºÂºèÂåñjsonÊâìÂç∞123456789101112131415161718# The standard string repr for dicts is hard to read:&gt;&gt;&gt; my_mapping = &#123;&apos;a&apos;: 23, &apos;b&apos;: 42, &apos;c&apos;: 0xc0ffee&#125;&gt;&gt;&gt; my_mapping&#123;&apos;b&apos;: 42, &apos;c&apos;: 12648430. &apos;a&apos;: 23&#125; # üòû# The &quot;json&quot; module can do a much better job:&gt;&gt;&gt; import json&gt;&gt;&gt; print(json.dumps(my_mapping, indent=4, sort_keys=True))&#123; &quot;a&quot;: 23, &quot;b&quot;: 42, &quot;c&quot;: 12648430&#125;# Note this only works with dicts containing# primitive types (check out the &quot;pprint&quot; module):&gt;&gt;&gt; json.dumps(&#123;all: &apos;yup&apos;&#125;)TypeError: keys must be a string ‰º†ÈÄíÂèÇÊï∞ÊñπÂºè1234567891011121314# Why Python Is Great:# Function argument unpackingdef myfunc(x, y, z): print(x, y, z)tuple_vec = (1, 0, 1)dict_vec = &#123;&apos;x&apos;: 1, &apos;y&apos;: 0, &apos;z&apos;: 1&#125;&gt;&gt;&gt; myfunc(*tuple_vec)1, 0, 1&gt;&gt;&gt; myfunc(**dict_vec)1, 0, 1 timeitÊµãÈáè‰ª£Á†ÅÊâßË°åÈÄüÂ∫¶123456789101112131415161718# The &quot;timeit&quot; module lets you measure the execution# time of small bits of Python code&gt;&gt;&gt; import timeit&gt;&gt;&gt; timeit.timeit(&apos;&quot;-&quot;.join(str(n) for n in range(100))&apos;, number=10000)0.3412662749997253&gt;&gt;&gt; timeit.timeit(&apos;&quot;-&quot;.join([str(n) for n in range(100)])&apos;, number=10000)0.2996307989997149&gt;&gt;&gt; timeit.timeit(&apos;&quot;-&quot;.join(map(str, range(100)))&apos;, number=10000)0.24581470699922647 isÂíå‚Äù==‚ÄùÊØîËæÉis Âà§Êñ≠‰∏§‰∏™ÂèòÈáèÊåáÂêëÂØπË±°ÊòØÂê¶‰∏ÄÊ†∑== Âà§Êñ≠‰∏§‰∏™ÂèòÈáèÂÄºÊòØÂê¶‰∏ÄÊ†∑12345678910111213141516171819202122# &quot;is&quot; vs &quot;==&quot;&gt;&gt;&gt; a = [1, 2, 3]&gt;&gt;&gt; b = a&gt;&gt;&gt; a is bTrue&gt;&gt;&gt; a == bTrue&gt;&gt;&gt; c = list(a)&gt;&gt;&gt; a == cTrue&gt;&gt;&gt; a is cFalse# ‚Ä¢ &quot;is&quot; expressions evaluate to True if two # variables point to the same object# ‚Ä¢ &quot;==&quot; evaluates to True if the objects # referred to by the variables are equal ÂÖ≥‰∫épythonÂáΩÊï∞1234567891011121314# Functions are first-class citizens in Python:# They can be passed as arguments to other functions,# returned as values from other functions, and# assigned to variables and stored in data structures.&gt;&gt;&gt; def myfunc(a, b):... return a + b...&gt;&gt;&gt; funcs = [myfunc]&gt;&gt;&gt; funcs[0]&lt;function myfunc at 0x107012230&gt;&gt;&gt;&gt; funcs[0](2, 3)5 Ê®°Êãüswitch/case123456789101112131415161718192021222324252627282930313233343536# Because Python has first-class functions they can# be used to emulate switch/case statementsdef dispatch_if(operator, x, y): if operator == &apos;add&apos;: return x + y elif operator == &apos;sub&apos;: return x - y elif operator == &apos;mul&apos;: return x * y elif operator == &apos;div&apos;: return x / y else: return Nonedef dispatch_dict(operator, x, y): return &#123; &apos;add&apos;: lambda: x + y, &apos;sub&apos;: lambda: x - y, &apos;mul&apos;: lambda: x * y, &apos;div&apos;: lambda: x / y, &#125;.get(operator, lambda: None)()&gt;&gt;&gt; dispatch_if(&apos;mul&apos;, 2, 8)16&gt;&gt;&gt; dispatch_dict(&apos;mul&apos;, 2, 8)16&gt;&gt;&gt; dispatch_if(&apos;unknown&apos;, 2, 8)None&gt;&gt;&gt; dispatch_dict(&apos;unknown&apos;, 2, 8)None listÊìç‰Ωú123456789101112131415161718# Python&apos;s list comprehensions are awesome.vals = [expression for value in collection if condition]# This is equivalent to:vals = []for value in collection: if condition: vals.append(expression)# Example:&gt;&gt;&gt; even_squares = [x * x for x in range(10) if not x % 2]&gt;&gt;&gt; even_squares[0, 4, 16, 36, 64] 1234567891011121314151617181920212223242526# Python&apos;s list slice syntax can be used without indices# for a few fun and useful things:# You can clear all elements from a list:&gt;&gt;&gt; lst = [1, 2, 3, 4, 5]&gt;&gt;&gt; del lst[:]&gt;&gt;&gt; lst[]# You can replace all elements of a list# without creating a new list object:&gt;&gt;&gt; a = lst&gt;&gt;&gt; lst[:] = [7, 8, 9]&gt;&gt;&gt; lst[7, 8, 9]&gt;&gt;&gt; a[7, 8, 9]&gt;&gt;&gt; a is lstTrue# You can also create a (shallow) copy of a list:&gt;&gt;&gt; b = lst[:]&gt;&gt;&gt; b[7, 8, 9]&gt;&gt;&gt; b is lstFalse collectionsÁªüËÆ°Â≠óÊï∞1234567891011# collections.Counter lets you find the most common# elements in an iterable:&gt;&gt;&gt; import collections&gt;&gt;&gt; c = collections.Counter(&apos;helloworld&apos;)&gt;&gt;&gt; cCounter(&#123;&apos;l&apos;: 3, &apos;o&apos;: 2, &apos;e&apos;: 1, &apos;d&apos;: 1, &apos;h&apos;: 1, &apos;r&apos;: 1, &apos;w&apos;: 1&#125;)&gt;&gt;&gt; c.most_common(3)[(&apos;l&apos;, 3), (&apos;o&apos;, 2), (&apos;e&apos;, 1)] itertoolsÊéíÂàó12345678910111213141516171819202122232425262728&gt;&gt;&gt; import itertools&gt;&gt;&gt; for p in itertools.permutations(&apos;ABCD&apos;):... print(p)(&apos;A&apos;, &apos;B&apos;, &apos;C&apos;, &apos;D&apos;)(&apos;A&apos;, &apos;B&apos;, &apos;D&apos;, &apos;C&apos;)(&apos;A&apos;, &apos;C&apos;, &apos;B&apos;, &apos;D&apos;)(&apos;A&apos;, &apos;C&apos;, &apos;D&apos;, &apos;B&apos;)(&apos;A&apos;, &apos;D&apos;, &apos;B&apos;, &apos;C&apos;)(&apos;A&apos;, &apos;D&apos;, &apos;C&apos;, &apos;B&apos;)(&apos;B&apos;, &apos;A&apos;, &apos;C&apos;, &apos;D&apos;)(&apos;B&apos;, &apos;A&apos;, &apos;D&apos;, &apos;C&apos;)(&apos;B&apos;, &apos;C&apos;, &apos;A&apos;, &apos;D&apos;)(&apos;B&apos;, &apos;C&apos;, &apos;D&apos;, &apos;A&apos;)(&apos;B&apos;, &apos;D&apos;, &apos;A&apos;, &apos;C&apos;)(&apos;B&apos;, &apos;D&apos;, &apos;C&apos;, &apos;A&apos;)(&apos;C&apos;, &apos;A&apos;, &apos;B&apos;, &apos;D&apos;)(&apos;C&apos;, &apos;A&apos;, &apos;D&apos;, &apos;B&apos;)(&apos;C&apos;, &apos;B&apos;, &apos;A&apos;, &apos;D&apos;)(&apos;C&apos;, &apos;B&apos;, &apos;D&apos;, &apos;A&apos;)(&apos;C&apos;, &apos;D&apos;, &apos;A&apos;, &apos;B&apos;)(&apos;C&apos;, &apos;D&apos;, &apos;B&apos;, &apos;A&apos;)(&apos;D&apos;, &apos;A&apos;, &apos;B&apos;, &apos;C&apos;)(&apos;D&apos;, &apos;A&apos;, &apos;C&apos;, &apos;B&apos;)(&apos;D&apos;, &apos;B&apos;, &apos;A&apos;, &apos;C&apos;)(&apos;D&apos;, &apos;B&apos;, &apos;C&apos;, &apos;A&apos;)(&apos;D&apos;, &apos;C&apos;, &apos;A&apos;, &apos;B&apos;)(&apos;D&apos;, &apos;C&apos;, &apos;B&apos;, &apos;A&apos;) disdisÊ®°ÂùóÂåÖÊã¨Áî®‰∫éÂèçÁºñËØë Python Â≠óËäÇÁ†ÅÂ∞ÜÂÖ∂ÊãÜËß£‰∏∫Êõ¥Êòì‰∫éÈòÖËØªÁöÑÂΩ¢ÂºèÁöÑÂáΩÊï∞„ÄÇ123456789101112131415161718# You can use Python&apos;s built-in &quot;dis&quot;# module to disassemble functions and# inspect their CPython VM bytecode:&gt;&gt;&gt; def greet(name):... return &apos;Hello, &apos; + name + &apos;!&apos;&gt;&gt;&gt; greet(&apos;Dan&apos;)&apos;Hello, Dan!&apos;&gt;&gt;&gt; import dis&gt;&gt;&gt; dis.dis(greet)2 0 LOAD_CONST 1 (&apos;Hello, &apos;) 2 LOAD_FAST 0 (name) 4 BINARY_ADD 6 LOAD_CONST 2 (&apos;!&apos;) 8 BINARY_ADD 10 RETURN_VALUE datetimestrptimestrptime ÊòØÂ∞ÜÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢‰∏∫ datetimeÔºåÂÖ∂ÂÆûËøô‰∏™ÊñπÊ≥ïÁöÑÂÖ®Áß∞ÊòØ ‚Äústring parse time‚ÄùÔºåÂè´ÂÅöÂ≠óÁ¨¶‰∏≤Ëß£ÊûêÊàêÊó∂Èó¥ÔºåÈáçÁÇπÂú®Ëß£ÊûêÔºàparseÔºâÔºåÁêÜËß£Ëøô‰∏™‰∏â‰∏™ÂçïËØçÔºå‰Ω†Â∞±‰∏ç‰ºöÂøòËÆ∞‰∫Ü„ÄÇ 1234&gt;&gt;&gt; from datetime import datetime&gt;&gt;&gt; datetime.strptime(&apos;2018-10-15 20:59:29&apos;, &apos;%Y-%m-%d %H:%M:%S&apos;)datetime.datetime(2018, 10, 15, 20, 59, 29)strftime strftime ÊòØÂ∞Ü datetime ËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤ÔºåÂÖ®Áß∞ÊòØ ‚Äústring format time‚ÄùÔºåÁøªËØëËøáÊù•Â∞±ÊòØÂ∞ÜÂ≠óÁ¨¶‰∏≤ÁöÑÂΩ¢ÂºèÊù•Ê†ºÂºèÂåñÊó∂Èó¥ÔºåÈáçÁÇπÂú®Ê†ºÂºèÂåñÔºàformatÔºâÔºå‰Ωø‰πã‰ª•‰∏ÄÁßçÂèØËØªÁöÑÂ≠óÁ¨¶‰∏≤ÂΩ¢ÂºèËøîÂõû„ÄÇ 12&gt;&gt;&gt; datetime.now().strftime(&quot;%Y-%m-%d %H:%M:%S&quot;)&apos;2018-11-02 16:16:45&apos; iso8601Êó∂Èó¥ËΩ¨Êç¢ËΩ¨Êç¢Êó∂Èó¥Â≠óÁ¨¶‰∏≤Âà∞datetime12import datetimedatetime.datetime.strptime(&quot;2018-12-14T08:58:50Z&quot;, &quot;%Y-%m-%dT%H:%M:%SZ&quot;) ËΩ¨Êç¢datetimeÂà∞Êó∂Èó¥Â≠óÁ¨¶‰∏≤1dstr = dt.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;) utcËΩ¨Êç¢‰∏∫Êú¨Âú∞Êó∂Èó¥ ÂèÇËÄÉ: https://stackoverflow.com/questions/4563272/convert-a-python-utc-datetime-to-a-local-datetime-using-only-python-standard-lib 123456# in Python 3.3+:from datetime import timezonedef utc_to_local(utc_dt): return utc_dt.replace(tzinfo=timezone.utc).astimezone(tz=None) 123456789# python2/3import calendarfrom datetime import datetime, timedeltadef utc_to_local(utc_dt): # get integer timestamp to avoid precision lost timestamp = calendar.timegm(utc_dt.timetuple()) local_dt = datetime.fromtimestamp(timestamp) assert utc_dt.resolution &gt;= timedelta(microseconds=1) return local_dt.replace(microsecond=utc_dt.microsecond) 12345678# using pytz. python2/3import pytzlocal_tz = pytz.timezone(&apos;Europe/Moscow&apos;) # use your local timezone name heredef utc_to_local(utc_dt): local_dt = utc_dt.replace(tzinfo=pytz.utc).astimezone(local_tz) return local_tz.normalize(local_dt) # .normalize might be unnecessary]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>Â≠¶‰π†Á¨îËÆ∞</tag>
        <tag>datetime</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[node_exporterÂÖ≥‰∫édiskÁõëÊéßÈ°πÂê´‰πâ]]></title>
    <url>%2F2018%2F10%2F11%2Fnode-exporter%E5%85%B3%E4%BA%8Edisk%E7%9B%91%E6%8E%A7%E9%A1%B9%E5%90%AB%E4%B9%89%2F</url>
    <content type="text"><![CDATA[Ëä±‰∫ÜÁÇπÊó∂Èó¥ÂºÑÊ∏ÖÊ•önode_exporter‰∏≠diskÂèñÂÄºÊñπÂºè„ÄÇÁ±ª‰ºº‰∫éiostat‰πãÁ±ªÂ∑•ÂÖ∑ÔºåÈÉΩÊòØ‰ªé/proc/diskstats‰∏≠ÂèñÂÄº„ÄÇÂØπÂ∫îÂÖ≥Á≥ªÂ¶Ç‰∏ã: metrics /proc/diskstatsÂØπÂ∫îÈ°π Ëß£Èáä node_disk_reads_completed_total Field 1 ‚Äì # of reads completed ËØªÊìç‰ΩúÁöÑÊ¨°Êï∞ node_disk_reads_merged_total Field 2 ‚Äì # of reads merged )ÂêàÂπ∂ËØªÊìç‰ΩúÁöÑÊ¨°Êï∞„ÄÇÂ¶ÇÊûú‰∏§‰∏™ËØªÊìç‰ΩúËØªÂèñÁõ∏ÈÇªÁöÑÊï∞ÊçÆÂùóÊó∂ÔºåÂèØ‰ª•Ë¢´ÂêàÂπ∂Êàê‰∏Ä‰∏™Ôºå‰ª•ÊèêÈ´òÊïàÁéá„ÄÇÂêàÂπ∂ÁöÑÊìç‰ΩúÈÄöÂ∏∏ÊòØI/O schedulerÔºà‰πüÂè´elevatorÔºâË¥üË¥£ÁöÑ node_disk_read_bytes_total Field 3 ‚Äì # of sectors read ËØªÂèñÁöÑÊâáÂå∫Êï∞Èáè„ÄÇnode_exporter‰∏≠Áõ¥Êé•‰πò512Êç¢ÁÆóÊàêbytes node_disk_read_time_seconds_total Field 4 ‚Äì # of milliseconds spent reading ËØªÊìç‰ΩúÊ∂àËÄóÁöÑÊó∂Èó¥Ôºà‰ª•ÊØ´Áßí‰∏∫Âçï‰ΩçÔºâ„ÄÇÊØè‰∏™ËØªÊìç‰Ωú‰ªé__make_request()ÂºÄÂßãËÆ°Êó∂ÔºåÂà∞end_that_request_last()‰∏∫Ê≠¢ÔºåÂåÖÊã¨‰∫ÜÂú®ÈòüÂàó‰∏≠Á≠âÂæÖÁöÑÊó∂Èó¥„ÄÇnode_exporter‰∏≠Êç¢ÁÆóÊàêÁßí node_disk_writes_completed_total Field 5 ‚Äì # of writes completed ÂÜôÊìç‰ΩúÁöÑÊ¨°Êï∞ node_disk_writes_merged_total Field 6 ‚Äì # of writes merged ÂêàÂπ∂ÂÜôÊìç‰ΩúÁöÑÊ¨°Êï∞ node_disk_written_bytes_total Field 7 ‚Äì # of sectors written ÂÜôÂÖ•ÁöÑÊâáÂå∫Êï∞Èáè„ÄÇnode_exporter‰∏≠Áõ¥Êé•‰πò512Êç¢ÁÆóÊàêbytes node_disk_write_time_seconds_total Field 8 ‚Äì # of milliseconds spent writing ÂÜôÊìç‰ΩúÊ∂àËÄóÁöÑÊó∂Èó¥Ôºà‰ª•ÊØ´Áßí‰∏∫Âçï‰ΩçÔºâ„ÄÇnode_exporter‰∏≠Êç¢ÁÆóÊàêÁßí node_disk_io_now Field 9 ‚Äì # of I/Os currently in progress ÂΩìÂâçÊú™ÂÆåÊàêÁöÑI/OÊï∞Èáè„ÄÇÂú®I/OËØ∑Ê±ÇËøõÂÖ•ÈòüÂàóÊó∂ËØ•ÂÄºÂä†1ÔºåÂú®I/OÁªìÊùüÊó∂ËØ•ÂÄºÂáè1„ÄÇÊ≥®ÊÑèÔºöÊòØI/OËØ∑Ê±ÇËøõÂÖ•ÈòüÂàóÊó∂ÔºåËÄå‰∏çÊòØÊèê‰∫§ÁªôÁ°¨ÁõòËÆæÂ§áÊó∂„ÄÇ node_disk_io_time_seconds_total Field 10 ‚Äì # of milliseconds spent doing I/Os ËØ•ËÆæÂ§áÁî®‰∫éÂ§ÑÁêÜI/OÁöÑËá™ÁÑ∂Êó∂Èó¥(wall-clock time)„ÄÇËØ∑Ê≥®ÊÑèio_ticks‰∏érd_ticks(Â≠óÊÆµ#4)Âíåwr_ticks(Â≠óÊÆµ#8)ÁöÑÂå∫Âà´Ôºård_ticksÂíåwr_ticksÊòØÊääÊØè‰∏Ä‰∏™I/OÊâÄÊ∂àËÄóÁöÑÊó∂Èó¥Á¥ØÂä†Âú®‰∏ÄËµ∑ÔºåÂõ†‰∏∫Á°¨ÁõòËÆæÂ§áÈÄöÂ∏∏ÂèØ‰ª•Âπ∂Ë°åÂ§ÑÁêÜÂ§ö‰∏™I/OÔºåÊâÄ‰ª•rd_ticksÂíåwr_ticksÂæÄÂæÄ‰ºöÊØîËá™ÁÑ∂Êó∂Èó¥Â§ß„ÄÇËÄåio_ticksË°®Á§∫ËØ•ËÆæÂ§áÊúâI/OÔºàÂç≥ÈùûÁ©∫Èó≤ÔºâÁöÑÊó∂Èó¥Ôºå‰∏çËÄÉËôëI/OÊúâÂ§öÂ∞ëÔºåÂè™ËÄÉËôëÊúâÊ≤°Êúâ„ÄÇÂú®ÂÆûÈôÖËÆ°ÁÆóÊó∂ÔºåÂ≠óÊÆµ#9(in_flight)‰∏ç‰∏∫Èõ∂ÁöÑÊó∂ÂÄôio_ticks‰øùÊåÅËÆ°Êó∂ÔºåÂ≠óÊÆµ#9(in_flight)‰∏∫Èõ∂ÁöÑÊó∂ÂÄôio_ticksÂÅúÊ≠¢ËÆ°Êó∂„ÄÇnode_exporter‰∏≠Êç¢ÁÆóÊàêÁßí node_disk_io_time_weighted_seconds_total Field 11 ‚Äì weighted # of milliseconds spent doing I/Os (time_in_queue)ÂØπÂ≠óÊÆµ#10(io_ticks)ÁöÑÂä†ÊùÉÂÄº„ÄÇÂ≠óÊÆµ#10(io_ticks)ÊòØËá™ÁÑ∂Êó∂Èó¥Ôºå‰∏çËÄÉËôëÂΩìÂâçÊúâÂá†‰∏™I/OÔºåËÄåtime_in_queueÊòØÁî®ÂΩìÂâçÁöÑI/OÊï∞ÈáèÔºàÂç≥Â≠óÊÆµ#9 in-flightÔºâ‰πò‰ª•Ëá™ÁÑ∂Êó∂Èó¥„ÄÇËôΩÁÑ∂ËØ•Â≠óÊÆµÁöÑÂêçÁß∞ÊòØtime_in_queueÔºå‰ΩÜÂπ∂‰∏çÁúüÁöÑÂè™ÊòØÂú®ÈòüÂàó‰∏≠ÁöÑÊó∂Èó¥ÔºåÂÖ∂‰∏≠ËøòÂåÖÂê´‰∫ÜÁ°¨ÁõòÂ§ÑÁêÜI/OÁöÑÊó∂Èó¥„ÄÇiostatÂú®ËÆ°ÁÆóavgqu-szÊó∂‰ºöÁî®Âà∞Ëøô‰∏™Â≠óÊÆµ„ÄÇnode_exporter‰∏≠Êç¢ÁÆóÊàêÁßí ÂèÇËÄÉÔºö https://www.kernel.org/doc/Documentation/iostats.txthttp://linuxperf.com/?p=156]]></content>
      <categories>
        <category>prometheusÁõëÊéß</category>
      </categories>
      <tags>
        <tag>node_exporter</tag>
        <tag>prometheus</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[linux shellÁ¨îËÆ∞]]></title>
    <url>%2F2018%2F10%2F08%2Flinux-shell%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[##Â∏∏Áî®ÂëΩ‰ª§ Êü•ÁúãÊ≠£Âú®‰ΩøÁî®‰ªÄ‰πàshell12ps -p $$echo $0 Êü•ÁúãÊâÄÊúâÂ∑≤ÂÆâË£Öshell1cat /etc/shells grep12345678910grep forest f.txt #Êñá‰ª∂Êü•Êâægrep forest f.txt cpf.txt #Â§öÊñá‰ª∂Êü•Êâægrep &apos;log&apos; /home/admin -r -n #ÁõÆÂΩï‰∏ãÊü•ÊâæÊâÄÊúâÁ¨¶ÂêàÂÖ≥ÈîÆÂ≠óÁöÑÊñá‰ª∂cat f.txt | grep -i shopbase grep &apos;shopbase&apos; /home/admin -r -n --include *.&#123;vm,java&#125; #ÊåáÂÆöÊñá‰ª∂ÂêéÁºÄgrep &apos;shopbase&apos; /home/admin -r -n --exclude *.&#123;vm,java&#125; #ÂèçÂåπÈÖçseq 10 | grep 5 -A 3 #‰∏äÂåπÈÖçseq 10 | grep 5 -B 3 #‰∏ãÂåπÈÖçseq 10 | grep 5 -C 3 #‰∏ä‰∏ãÂåπÈÖçÔºåÂπ≥Êó∂Áî®Ëøô‰∏™Â∞±Â¶•‰∫Ücat f.txt | grep -c &apos;SHOPBASE&apos; awk Âü∫Á°Ä 12345678awk &apos;&#123;print $4,$6&#125;&apos; f.txtawk &apos;&#123;print NR,$0&#125;&apos; f.txt cpf.txt awk &apos;&#123;print FNR,$0&#125;&apos; f.txt cpf.txtawk &apos;&#123;print FNR,FILENAME,$0&#125;&apos; f.txt cpf.txtawk &apos;&#123;print FILENAME,&quot;NR=&quot;NR,&quot;FNR=&quot;FNR,&quot;$&quot;NF&quot;=&quot;$NF&#125;&apos; f.txt cpf.txtecho 1:2:3:4 | awk -F: &apos;&#123;print $1,$2,$3,$4&#125;&apos;awk &apos;&#123;S[$1]++&#125;END&#123;for(k in S) print k,S[k]&#125;&apos; access-log.txtawk &apos;/^tcp/ &#123;S[$NF]++&#125;END&#123;for(k in S) print S[k],k&#125;&apos; ss.txt | sort -rn | head ÂåπÈÖç 1234awk &apos;/ldb/ &#123;print&#125;&apos; f.txt #ÂåπÈÖçldbawk &apos;!/ldb/ &#123;print&#125;&apos; f.txt #‰∏çÂåπÈÖçldbawk &apos;/ldb/ &amp;&amp; /LISTEN/ &#123;print&#125;&apos; f.txt #ÂåπÈÖçldbÂíåLISTENawk &apos;$5 ~ /ldb/ &#123;print&#125;&apos; f.txt #Á¨¨‰∫îÂàóÂåπÈÖçldb ÂÜÖÂª∫ÂèòÈáèNR:NRË°®Á§∫‰ªéawkÂºÄÂßãÊâßË°åÂêéÔºåÊåâÁÖßËÆ∞ÂΩïÂàÜÈöîÁ¨¶ËØªÂèñÁöÑÊï∞ÊçÆÊ¨°Êï∞ÔºåÈªòËÆ§ÁöÑËÆ∞ÂΩïÂàÜÈöîÁ¨¶‰∏∫Êç¢Ë°åÁ¨¶ÔºåÂõ†Ê≠§ÈªòËÆ§ÁöÑÂ∞±ÊòØËØªÂèñÁöÑÊï∞ÊçÆË°åÊï∞ÔºåNRÂèØ‰ª•ÁêÜËß£‰∏∫Number of RecordÁöÑÁº©ÂÜô„ÄÇ FNR:Âú®awkÂ§ÑÁêÜÂ§ö‰∏™ËæìÂÖ•Êñá‰ª∂ÁöÑÊó∂ÂÄôÔºåÂú®Â§ÑÁêÜÂÆåÁ¨¨‰∏Ä‰∏™Êñá‰ª∂ÂêéÔºåNRÂπ∂‰∏ç‰ºö‰ªé1ÂºÄÂßãÔºåËÄåÊòØÁªßÁª≠Á¥ØÂä†ÔºåÂõ†Ê≠§Â∞±Âá∫Áé∞‰∫ÜFNRÔºåÊØèÂΩìÂ§ÑÁêÜ‰∏Ä‰∏™Êñ∞Êñá‰ª∂ÁöÑÊó∂ÂÄôÔºåFNRÂ∞±‰ªé1ÂºÄÂßãËÆ°Êï∞ÔºåFNRÂèØ‰ª•ÁêÜËß£‰∏∫File Number of Record„ÄÇ NF: NFË°®Á§∫ÁõÆÂâçÁöÑËÆ∞ÂΩïË¢´ÂàÜÂâ≤ÁöÑÂ≠óÊÆµÁöÑÊï∞ÁõÆÔºåNFÂèØ‰ª•ÁêÜËß£‰∏∫Number of Field sort, uniq1234567891011121314ÂéªÈô§Áõ∏ÈÇªÈáçÂ§çuniq file.txt ÊéíÂ∫èÂéªÈáçsort -u file.txtÂÄíÂ∫èÊéíÂàósort -r file.txt ÁªüËÆ°ÈáçÂ§ç‰∏™Êï∞sort file.txt | uniq -cÊåáÂÆöÂàóÊéíÂ∫èsort -k1 file.txt trÂæÖË°•ÂÖÖ teeÂæÖË°•ÂÖÖ find12345678910111213sudo -u admin find /home/admin /tmp /usr -name \*.log(Â§ö‰∏™ÁõÆÂΩïÂéªÊâæ)find . -iname \*.txt(Â§ßÂ∞èÂÜôÈÉΩÂåπÈÖç)find . -type d(ÂΩìÂâçÁõÆÂΩï‰∏ãÁöÑÊâÄÊúâÂ≠êÁõÆÂΩï)find /usr -type l(ÂΩìÂâçÁõÆÂΩï‰∏ãÊâÄÊúâÁöÑÁ¨¶Âè∑ÈìæÊé•)find /usr -type l -name &quot;z*&quot; -ls(Á¨¶Âè∑ÈìæÊé•ÁöÑËØ¶ÁªÜ‰ø°ÊÅØ eg:inode,ÁõÆÂΩï)find /home/admin -size +250000k(Ë∂ÖËøá250000kÁöÑÊñá‰ª∂ÔºåÂΩìÁÑ∂+ÊîπÊàê-Â∞±ÊòØÂ∞è‰∫é‰∫Ü)find /home/admin f -perm 777 -exec ls -l &#123;&#125; \; (ÊåâÁÖßÊùÉÈôêÊü•ËØ¢Êñá‰ª∂)find /home/admin -atime -1 1Â§©ÂÜÖËÆøÈóÆËøáÁöÑÊñá‰ª∂find /home/admin -ctime -1 1Â§©ÂÜÖÁä∂ÊÄÅÊîπÂèòËøáÁöÑÊñá‰ª∂ find /home/admin -mtime -1 1Â§©ÂÜÖ‰øÆÊîπËøáÁöÑÊñá‰ª∂find /home/admin -amin -1 1ÂàÜÈíüÂÜÖËÆøÈóÆËøáÁöÑÊñá‰ª∂find /home/admin -cmin -1 1ÂàÜÈíüÂÜÖÁä∂ÊÄÅÊîπÂèòËøáÁöÑÊñá‰ª∂ find /home/admin -mmin -1 1ÂàÜÈíüÂÜÖ‰øÆÊîπËøáÁöÑÊñá‰ª∂ ÂÖ∂‰ªñÈóÆÈ¢òËÆ∞ÂΩïkillÊéâbash‰∏≠whileÂæ™ÁéØ123456// ÂΩìÂÜô‰∫Ü while [[ 1 ]]; do somecmd; sleep 60; done &amp;ÂêéÂ¶Ç‰ΩïkillÊéâÊ≠§Âæ™ÁéØ// ÊâßË°åÂëΩ‰ª§ÊâæÂá∫ÂÖ≥Á≥ª$ps fjx2226 9411 9411 8383 ? -1 S 1000 0:00 \_ /bin/bash9411 17674 9411 8383 ? -1 Sl 1000 0:00 \_ somecmd// 9411Â∞±ÊòØÊâßË°åwhileËøõÁ®ã centosÁöÑyumÊä•Èîô$releaseverÂà´‰∫∫Ë£ÖÂ•ΩÁöÑcentos‰∏Ä‰∏™Ê∫êÈÉΩÊ≤°ÊúâÔºåÈÖçÁΩÆÊ∫êÂêéÂèàÂíåredhat-releaseÂÜ≤Á™ÅÊâßË°åÔºåÁªôredhat-releaseÂà†‰∫ÜÂêéÔºåÊâßË°åyumÂëΩ‰ª§ÁöÑÊó∂ÂÄôÊèêÁ§∫http://mirrors.aliyun.com/centos/%24releasever/addons/x86_64/repodata/repomd.xmlÂ∫îËØ•ÊòØÁéØÂ¢ÉÂèòÈáè$releaseverÊ≤°‰∫Ü,yum ‚Äìreleasever=7 install centos-releaseÂêé‰æùÁÑ∂Êó†Êïà„ÄÇ‰∏çÁü•ÈÅìËøô‰∏™ÂèòÈáèÂ≠òÂú®Âì™ÔºåÁΩë‰∏äÊâæ‰∫Ü‰∏™ËÆæÁΩÆÊñπÊ≥ï„ÄÇ„ÄÇ Ëß£ÂÜ≥ÊñπÊ≥ï:1$echo 7 &gt; /etc/yum/vars/releasever ÂÖ∂‰ªñ Êü•ÁúãÁ≥ªÁªüÂêØÂä®ËÄóÊó∂ 1234# ÂêØÂä®ËÄóÊó∂Ê±áÊÄªsystemd-analyze# Êü•ÁúãÊúçÂä°ÊòéÁªÜÂêØÂä®ËÄóÊó∂systemd-analyze blame Êü•ÁúãÊ≠£Âú®‰ΩøÁî®‰ªÄ‰πàshell 12ps -p $$echo $0 Êü•ÁúãÊâÄÊúâÂ∑≤ÂÆâË£Öshell 1cat /etc/shells ‰øÆÊîπshell 1chsh -s /bin/ksh ÂèÇËÄÉÔºö https://yq.aliyun.com/articles/69520?utm_content=m_10360]]></content>
      <categories>
        <category>linuxÂëΩ‰ª§Ë°å</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>bash</tag>
        <tag>Â≠¶‰π†Á¨îËÆ∞</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[conkyÈÖçÁΩÆHarmattan‰∏ªÈ¢ò]]></title>
    <url>%2F2018%2F10%2F04%2Fconky%E9%85%8D%E7%BD%AEHarmattan%E4%B8%BB%E9%A2%98%2F</url>
    <content type="text"><![CDATA[‰∏ãËΩΩHarmattan‰∏ªÈ¢ò git clone https://github.com/zagortenay333/Harmattan.git ÂÆâË£Öconky 1$ sudo apt install conky-all lm-sensors ‰∏ähttps://openweathermap.org/Ê≥®ÂÜåÁî®Êà∑ÂèñÂæóapiÂíålocation id ÊâßË°åpreviewÊåâÊèêÁ§∫ÈÄâÊã©‰∏Ä‰∏™ÂñúÊ¨¢ÁöÑ‰∏ªÈ¢ò,ÂÆâË£Ö,‰ºöÊèêÁ§∫Â°´ÂÖ•apiÂíålocation id 1$./preview ÁΩëÂç°ÔºåÂ≠ó‰ΩìÈóÆÈ¢ò 1$ vim ~/.conkyrc ÈªòËÆ§Droid SansÊàëÁöÑubuntuÊ≤°ÊúâÔºåÊç¢‰∫Ü‰∏Ä‰∏™Â≠ó‰ΩìÂ∞±Ê≠£Â∏∏‰∫ÜÁΩëÂç°ÊàëÁöÑÂè´eno1ÔºåÂ§çÂà∂‰∏Ä‰ªΩÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑeth0ÁöÑÔºåÊîπÊàêËá™Â∑±ÁöÑÁΩëÂç°ÂêçÂç≥ÂèØ]]></content>
      <categories>
        <category>linuxÊ°åÈù¢</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ubuntu</tag>
        <tag>conky</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexoÁ¨îËÆ∞]]></title>
    <url>%2F2018%2F10%2F01%2Fhexo%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[ubuntu 16.04 ÁéØÂ¢ÉÈóÆÈ¢ò12ERROR Local hexo not found in ~/blog:ERROR Try running: &apos;npm install hexo --save&apos; Êó†ËÆ∫Â¶Ç‰ΩïÂÆâË£ÖÔºåËøêË°åhexoÈÉΩ‰ºöÊä•ÈîôÔºåÊúÄÂêéÊõ¥Êñ∞nodejsÔºå‰∏ç‰ΩøÁî®Ê∫êÈáåÈù¢ÁöÑËß£ÂÜ≥‰∫Ü„ÄÇ]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>Â≠¶‰π†Á¨îËÆ∞</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mongodbÁ¨îËÆ∞]]></title>
    <url>%2F2018%2F10%2F01%2Fmongodb%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[https://blog.csdn.net/five3/article/details/54632932?utm_source=copy 2.6.xÁâàÊú¨ÁöÑËÆæÁΩÆ mongodbÁî®Êà∑ÊùÉÈôêËÆæÁΩÆ123#vim /etc/mongodb.confÂéªÊéâauth=trueÊ≥®ÈáäÈáçÂêØÊúçÂä° ËÆæÁΩÆroot,Áî®Êà∑ÂØÜÁ†Å12345678&gt;use admin&gt;db.createUser(&#123;user:&apos;root&apos;,pwd:&apos;root&apos;,roles:[&#123;role:&quot;dbAdminAnyDatabase&quot;,db:&quot;admin&quot;&#125;,&#123;role:&quot;userAdminAnyDatabase&quot;,db:&quot;admin&quot;&#125;]&#125;)ÈÄÄÂá∫Âêé‰ΩøÁî®rootË¥¶Êà∑ÁôªÂΩï#mongo -u root -p root&gt;use youdb&gt;db.createUser(&#123;user:&apos;user&apos;,pwd:&apos;user&apos;,roles:[&#123;role:&quot;read&quot;,db:&quot;youdb&quot;&#125;,&#123;role:&quot;readWrite&quot;,db:&quot;youdb&quot;&#125;]&#125;) ËÆæÁΩÆÊàêÂäüÂêéÈÄÄÂá∫ÁôªÂΩïÊµãËØï#mongo -u user -p user --authenticationDatabase youdb 3.4.xÁâàÊú¨ÁöÑËÆæÁΩÆÂæÖË°•ÂÖÖ 4.0.xÁâàÊú¨ÁöÑËÆæÁΩÆ ‰∏ç‰ΩøÁî®ËÆ§ËØÅÊùÉÈôêÂêØÂä® ÂàõÂª∫Áî®Êà∑ÁÆ°ÁêÜÂëò 12345678&gt;use admin&gt;db.createUser( &#123; user: &quot;myUserAdmin&quot;, pwd: &quot;abc123&quot;, roles: [ &#123; role: &quot;userAdminAnyDatabase&quot;, db: &quot;admin&quot; &#125;, &quot;readWriteAnyDatabase&quot; ] &#125;) ÂºÄÂêØËÆ§ËØÅÊùÉÈôêÔºåÁî®‚ÄìauthÂèÇÊï∞ÂêØÂä®ÔºåÊàñËÄÖÈÖçÁΩÆÊñá‰ª∂ÂºÄÂêØ 12security: authorization: enabled Áî®ÂàöÂàöÈÖçÁΩÆÁöÑÁî®Êà∑ÁÆ°ÁêÜÂëòÁôªÈôÜ 1mongo --port 27017 -u &quot;myUserAdmin&quot; -p &quot;abc123&quot; --authenticationDatabase &quot;admin&quot; ÂàõÂª∫Áî®Êà∑ 123456789use testdb.createUser( &#123; user: &quot;myTester&quot;, pwd: &quot;xyz123&quot;, roles: [ &#123; role: &quot;readWrite&quot;, db: &quot;test&quot; &#125;, &#123; role: &quot;read&quot;, db: &quot;reporting&quot; &#125; ] &#125;) ÂØºÂá∫csv http://yangcongchufang.com/mongo-export-csv.html12345# Áõ¥Êé•‰ªéÊüê‰∏™Ë°®ÂØºÂá∫ÊúüÊúõÂ≠óÊÆµÔºåÁîüÊàêCSVmongoexport --host 10.8.8.111 --db sampleData --collection eventV4 --csv --out events.csv --fields &apos;_id,something&apos;# Â¢ûÂä†‰∏Ä‰∏™Ê£ÄÁ¥¢filterÂêéÂØºÂá∫CSVmongoexport --host 10.8.8.111 --db sampleData --collection eventV4 --queryFile ./range.json --csv --out events.csv --fields &apos;_id,something&apos;]]></content>
      <categories>
        <category>mongodb</category>
      </categories>
      <tags>
        <tag>Â≠¶‰π†Á¨îËÆ∞</tag>
        <tag>mongodb</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[È≠îÊÄßCSS3 + HTML5Âä®ÁîªÁâπÊïà]]></title>
    <url>%2F2018%2F09%2F27%2Fhtml5css_movie%2F</url>
    <content type="text"><![CDATA[https://codepen.io/ge1doot/pen/LkdOwj { class Robot { constructor(color, light, size, x, y, struct) { this.x = x; this.points = []; this.links = []; this.frame = 0; this.dir = 1; this.size = size; this.color = Math.round(color); this.light = light; // ---- create points ---- for (const p of struct.points) { this.points.push(new Robot.Point(size * p.x + x, size * p.y + y, p.f)); } // ---- create links ---- for (const link of struct.links) { const p0 = this.points[link.p0]; const p1 = this.points[link.p1]; const dx = p0.x - p1.x; const dy = p0.y - p1.y; this.links.push( new Robot.Link( this, p0, p1, Math.sqrt(dx * dx + dy * dy), link.size * size / 3, link.lum, link.force, link.disk ) ); } } update() { if (++this.frame % 20 === 0) this.dir = -this.dir; if ( dancerDrag && this === dancerDrag && this.size < 16 && this.frame > 600 ) { dancerDrag = null; dancers.push( new Robot( this.color + 90, this.light * 1.25, this.size * 2, pointer.x, pointer.y - 100 * this.size * 2, struct ) ); dancers.sort(function(d0, d1) { return d0.size - d1.size; }); } // ---- update links ---- for (const link of this.links) link.update(); // ---- update points ---- for (const point of this.points) point.update(this); // ---- ground ---- for (const link of this.links) { const p1 = link.p1; if (p1.y > canvas.height * ground - link.size * 0.5) { p1.y = canvas.height * ground - link.size * 0.5; p1.x -= p1.vx; p1.vx = 0; p1.vy = 0; } } // ---- screen limits ---- if (this.points[1].x < 0) this.points[1].x = 0; else if (this.points[1].x > canvas.width) this.points[1].x = canvas.width; } } Robot.Link = class Link { constructor(parent, p0, p1, dist, size, light, force, disk) { this.p0 = p0; this.p1 = p1; this.distance = dist; this.size = size; this.light = light || 1.0; this.force = force || 0.5; this.color = `hsl(${parent.color}, 30%, ${parent.light * this.light}%)`; this.disk = disk; } update() { const p0 = this.p0; const p1 = this.p1; const dx = p1.x - p0.x; const dy = p1.y - p0.y; const dist = Math.sqrt(dx * dx + dy * dy); if (dist > 0.0) { const tw = p0.w + p1.w; const r1 = p1.w / tw; const r0 = p0.w / tw; const dz = (this.distance - dist) * this.force; const sx = dx / dist * dz; const sy = dy / dist * dz; p1.x += sx * r0; p1.y += sy * r0; p0.x -= sx * r1; p0.y -= sy * r1; } // ---- draw link ---- if (this.size) { const w = this.size; const a = Math.atan2(dy, dx); const c = Math.cos(a); const s = Math.sin(a); if (this.disk) { ctx.setTransform(c, s, -s, c, p1.x + w * 0.25, p1.y + w * 0.25); ctx.beginPath(); ctx.arc(0, 0, w * 0.5, 0, 2 * Math.PI); ctx.fillStyle = "rgba(0, 0, 0, 0.5)"; ctx.fill(); } else { ctx.setTransform(c, s, -s, c, p0.x + w * 0.25, p0.y + w * 0.25); ctx.beginPath(); ctx.lineCap = "round"; ctx.lineWidth = w; ctx.beginPath(); ctx.strokeStyle = "rgba(0, 0, 0, 0.5)"; ctx.moveTo(0, 0); ctx.lineTo(dist, 0); ctx.stroke(); } if (this.disk) { ctx.setTransform(c, s, -s, c, p1.x, p1.y); ctx.beginPath(); ctx.arc(0, 0, w * 0.5, 0, 2 * Math.PI); ctx.fillStyle = this.color; ctx.fill(); ctx.fillStyle = "#000"; ctx.fillRect(-w * 0.1, -w * 0.1, w * 0.2, w * 0.2); } else { ctx.setTransform(c, s, -s, c, p0.x, p0.y); ctx.beginPath(); ctx.lineCap = "round"; ctx.lineWidth = w; ctx.beginPath(); ctx.strokeStyle = this.color; ctx.moveTo(0, 0); ctx.lineTo(dist, 0); ctx.stroke(); ctx.fillStyle = "#000"; ctx.fillRect(-w * 0.1, -w * 0.1, w * 0.2, w * 0.2); ctx.fillRect(dist - w * 0.1, -w * 0.1, w * 0.2, w * 0.2); } } } }; Robot.Point = class Point { constructor(x, y, fn, w) { this.x = x; this.y = y; this.w = w || 0.5; this.fn = fn || null; this.px = x; this.py = y; this.vx = 0.0; this.vy = 0.0; } update (robot) { // ---- dragging ---- if (robot === dancerDrag && this === pointDrag) { this.x += (pointer.x - this.x) * 0.1; this.y += (pointer.y - this.y) * 0.1; } // ---- dance ---- if (robot !== dancerDrag) { this.fn && this.fn(16 * Math.sqrt(robot.size), robot.dir); } // ---- verlet integration ---- this.vx = this.x - this.px; this.vy = this.y - this.py; this.px = this.x; this.py = this.y; this.vx *= 0.995; this.vy *= 0.995; this.x += this.vx; this.y += this.vy + 0.01; } }; // ---- set canvas ---- const canvas = { init() { this.elem = document.querySelector("canvas"); this.resize(); window.addEventListener("resize", () => this.resize(), false); return this.elem.getContext("2d"); }, resize() { this.width = this.elem.width = this.elem.offsetWidth; this.height = this.elem.height = this.elem.offsetHeight; ground = this.height > 500 ? 0.85 : 1.0; for (let i = 0; i < dancers.length; i++) { dancers[i].x = (i + 2) * canvas.width / 9; } } }; // ---- set pointer ---- const pointer = { init(canvas) { this.x = 0; this.y = 0; window.addEventListener("mousemove", e => this.move(e), false); canvas.elem.addEventListener("touchmove", e => this.move(e), false); window.addEventListener("mousedown", e => this.down(e), false); window.addEventListener("touchstart", e => this.down(e), false); window.addEventListener("mouseup", e => this.up(e), false); window.addEventListener("touchend", e => this.up(e), false); }, down(e) { this.move(e); for (const dancer of dancers) { for (const point of dancer.points) { console.log("pointer:" + pointer.x) console.log("point:" + point.x) const dx = pointer.x - point.x; const dy = pointer.y - point.y; const d = Math.sqrt(dx * dx + dy * dy); if (d < 60) { dancerDrag = dancer; pointDrag = point; dancer.frame = 0; } } } }, up(e) { dancerDrag = null; }, move(e) { let touchMode = e.targetTouches, pointer; if (touchMode) { e.preventDefault(); pointer = touchMode[0]; } else pointer = e; this.x = pointer.clientX; this.y = pointer.clientY; } }; // ---- init ---- const dancers = []; let ground = 1.0; const ctx = canvas.init(); pointer.init(canvas); let dancerDrag = null; let pointDrag = null; // ---- dance ---- const dance = () => { ctx.save(); for (let i = 0; i < dancers.length; i++) { const d0 = dancers[i]; d0.update(); // separation behavior for (let j = i + 1; j < dancers.length; j++) { const d1 = dancers[j]; const minDist = Math.abs(d0.x - d1.x); const actDist = Math.abs(d0.points[2].x - d1.points[2].x); if (actDist < minDist * 0.8) { const d = minDist - actDist; if (d0.points[2].x < d1.points[2].x) { d0.points[2].x -= d * 0.001; d1.points[2].x += d * 0.001; } else { d0.points[2].x += d * 0.001; d1.points[2].x -= d * 0.001; } } } } ctx.restore(); } // ---- main loop ---- const run = () => { requestAnimationFrame(run); ctx.clearRect(0, 0, canvas.width, canvas.height); ctx.fillStyle = "#222"; ctx.fillRect(0, 0, canvas.width, canvas.height * 0.15); ctx.fillRect(0, canvas.height * 0.85, canvas.width, canvas.height * 0.15); dance(); }; // ---- robot structure ---- const struct = { points: [ { x: 0, y: -4, f(s, d) { this.y -= 0.01 * s; } }, { x: 0, y: -16, f(s, d) { this.y -= 0.02 * s * d; } }, { x: 0, y: 12, f(s, d) { this.y += 0.02 * s * d; } }, { x: -12, y: 0 }, { x: 12, y: 0 }, { x: -3, y: 34, f(s, d) { if (d > 0) { this.x += 0.01 * s; this.y -= 0.015 * s; } else { this.y += 0.02 * s; } } }, { x: 3, y: 34, f(s, d) { if (d > 0) { this.y += 0.02 * s; } else { this.x -= 0.01 * s; this.y -= 0.015 * s; } } }, { x: -28, y: 0, f(s, d) { this.x += this.vx * 0.025; this.y -= 0.001 * s; } }, { x: 28, y: 0, f(s, d) { this.x += this.vx * 0.025; this.y -= 0.001 * s; } }, { x: -3, y: 64, f(s, d) { this.y += 0.015 * s; if (d > 0) { this.y -= 0.01 * s; } else { this.y += 0.05 * s; } } }, { x: 3, y: 64, f(s, d) { this.y += 0.015 * s; if (d > 0) { this.y += 0.05 * s; } else { this.y -= 0.01 * s; } } } ], links: [ { p0: 3, p1: 7, size: 12, lum: 0.5 }, { p0: 1, p1: 3, size: 24, lum: 0.5 }, { p0: 1, p1: 0, size: 60, lum: 0.5, disk: 1 }, { p0: 5, p1: 9, size: 16, lum: 0.5 }, { p0: 2, p1: 5, size: 32, lum: 0.5 }, { p0: 1, p1: 2, size: 50, lum: 1 }, { p0: 6, p1: 10, size: 16, lum: 1.5 }, { p0: 2, p1: 6, size: 32, lum: 1.5 }, { p0: 4, p1: 8, size: 12, lum: 1.5 }, { p0: 1, p1: 4, size: 24, lum: 1.5 } ] }; // ---- instanciate robots ---- for (let i = 0; i < 4; i++) { dancers.push( new Robot( i * 360 / 7, 80, 4, (i + 2) * canvas.width / 9, canvas.height * ground - 300, struct ) ); } // ---- warm up ---- run(); } 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665666667668669670671672673674675676677678679680681682683684685686687688689690691692693694695696697698699700701702703704705706707708709710711712713714715716717718719720721722723724725726727728729730731732733734735736737738739740741742743744745746747748749750751752753754755756757758759760761762763764765766767768769770771772773774775776777778779780781782783784785786787788789790791792793794795796797798799800801802803804805806807808809810811812813814815816817818819820821&lt;canvas style="width: 100%; height: 500px; background: #000; cursor: pointer;"&gt;&lt;/canvas&gt;&lt;script&gt;&#123; class Robot &#123; constructor(color, light, size, x, y, struct) &#123; this.x = x; this.points = []; this.links = []; this.frame = 0; this.dir = 1; this.size = size; this.color = Math.round(color); this.light = light; // ---- create points ---- for (const p of struct.points) &#123; this.points.push(new Robot.Point(size * p.x + x, size * p.y + y, p.f)); &#125; // ---- create links ---- for (const link of struct.links) &#123; const p0 = this.points[link.p0]; const p1 = this.points[link.p1]; const dx = p0.x - p1.x; const dy = p0.y - p1.y; this.links.push( new Robot.Link( this, p0, p1, Math.sqrt(dx * dx + dy * dy), link.size * size / 3, link.lum, link.force, link.disk ) ); &#125; &#125; update() &#123; if (++this.frame % 20 === 0) this.dir = -this.dir; if ( dancerDrag &amp;&amp; this === dancerDrag &amp;&amp; this.size &lt; 16 &amp;&amp; this.frame &gt; 600 ) &#123; dancerDrag = null; dancers.push( new Robot( this.color + 90, this.light * 1.25, this.size * 2, pointer.x, pointer.y - 100 * this.size * 2, struct ) ); dancers.sort(function(d0, d1) &#123; return d0.size - d1.size; &#125;); &#125; // ---- update links ---- for (const link of this.links) link.update(); // ---- update points ---- for (const point of this.points) point.update(this); // ---- ground ---- for (const link of this.links) &#123; const p1 = link.p1; if (p1.y &gt; canvas.height * ground - link.size * 0.5) &#123; p1.y = canvas.height * ground - link.size * 0.5; p1.x -= p1.vx; p1.vx = 0; p1.vy = 0; &#125; &#125; // ---- screen limits ---- if (this.points[1].x &lt; 0) this.points[1].x = 0; else if (this.points[1].x &gt; canvas.width) this.points[1].x = canvas.width; &#125; &#125; Robot.Link = class Link &#123; constructor(parent, p0, p1, dist, size, light, force, disk) &#123; this.p0 = p0; this.p1 = p1; this.distance = dist; this.size = size; this.light = light || 1.0; this.force = force || 0.5; this.color = `hsl($&#123;parent.color&#125;, 30%, $&#123;parent.light * this.light&#125;%)`; this.disk = disk; &#125; update() &#123; const p0 = this.p0; const p1 = this.p1; const dx = p1.x - p0.x; const dy = p1.y - p0.y; const dist = Math.sqrt(dx * dx + dy * dy); if (dist &gt; 0.0) &#123; const tw = p0.w + p1.w; const r1 = p1.w / tw; const r0 = p0.w / tw; const dz = (this.distance - dist) * this.force; const sx = dx / dist * dz; const sy = dy / dist * dz; p1.x += sx * r0; p1.y += sy * r0; p0.x -= sx * r1; p0.y -= sy * r1; &#125; // ---- draw link ---- if (this.size) &#123; const w = this.size; const a = Math.atan2(dy, dx); const c = Math.cos(a); const s = Math.sin(a); if (this.disk) &#123; ctx.setTransform(c, s, -s, c, p1.x + w * 0.25, p1.y + w * 0.25); ctx.beginPath(); ctx.arc(0, 0, w * 0.5, 0, 2 * Math.PI); ctx.fillStyle = "rgba(0, 0, 0, 0.5)"; ctx.fill(); &#125; else &#123; ctx.setTransform(c, s, -s, c, p0.x + w * 0.25, p0.y + w * 0.25); ctx.beginPath(); ctx.lineCap = "round"; ctx.lineWidth = w; ctx.beginPath(); ctx.strokeStyle = "rgba(0, 0, 0, 0.5)"; ctx.moveTo(0, 0); ctx.lineTo(dist, 0); ctx.stroke(); &#125; if (this.disk) &#123; ctx.setTransform(c, s, -s, c, p1.x, p1.y); ctx.beginPath(); ctx.arc(0, 0, w * 0.5, 0, 2 * Math.PI); ctx.fillStyle = this.color; ctx.fill(); ctx.fillStyle = "#000"; ctx.fillRect(-w * 0.1, -w * 0.1, w * 0.2, w * 0.2); &#125; else &#123; ctx.setTransform(c, s, -s, c, p0.x, p0.y); ctx.beginPath(); ctx.lineCap = "round"; ctx.lineWidth = w; ctx.beginPath(); ctx.strokeStyle = this.color; ctx.moveTo(0, 0); ctx.lineTo(dist, 0); ctx.stroke(); ctx.fillStyle = "#000"; ctx.fillRect(-w * 0.1, -w * 0.1, w * 0.2, w * 0.2); ctx.fillRect(dist - w * 0.1, -w * 0.1, w * 0.2, w * 0.2); &#125; &#125; &#125; &#125;; Robot.Point = class Point &#123; constructor(x, y, fn, w) &#123; this.x = x; this.y = y; this.w = w || 0.5; this.fn = fn || null; this.px = x; this.py = y; this.vx = 0.0; this.vy = 0.0; &#125; update (robot) &#123; // ---- dragging ---- if (robot === dancerDrag &amp;&amp; this === pointDrag) &#123; this.x += (pointer.x - this.x) * 0.1; this.y += (pointer.y - this.y) * 0.1; &#125; // ---- dance ---- if (robot !== dancerDrag) &#123; this.fn &amp;&amp; this.fn(16 * Math.sqrt(robot.size), robot.dir); &#125; // ---- verlet integration ---- this.vx = this.x - this.px; this.vy = this.y - this.py; this.px = this.x; this.py = this.y; this.vx *= 0.995; this.vy *= 0.995; this.x += this.vx; this.y += this.vy + 0.01; &#125; &#125;; // ---- set canvas ---- const canvas = &#123; init() &#123; this.elem = document.querySelector("canvas"); this.resize(); window.addEventListener("resize", () =&gt; this.resize(), false); return this.elem.getContext("2d"); &#125;, resize() &#123; this.width = this.elem.width = this.elem.offsetWidth; this.height = this.elem.height = this.elem.offsetHeight; ground = this.height &gt; 500 ? 0.85 : 1.0; for (let i = 0; i &lt; dancers.length; i++) &#123; dancers[i].x = (i + 2) * canvas.width / 9; &#125; &#125; &#125;; // ---- set pointer ---- const pointer = &#123; init(canvas) &#123; this.x = 0; this.y = 0; window.addEventListener("mousemove", e =&gt; this.move(e), false); canvas.elem.addEventListener("touchmove", e =&gt; this.move(e), false); window.addEventListener("mousedown", e =&gt; this.down(e), false); window.addEventListener("touchstart", e =&gt; this.down(e), false); window.addEventListener("mouseup", e =&gt; this.up(e), false); window.addEventListener("touchend", e =&gt; this.up(e), false); &#125;, down(e) &#123; this.move(e); for (const dancer of dancers) &#123; for (const point of dancer.points) &#123; const dx = pointer.x - point.x; const dy = pointer.y - point.y; const d = Math.sqrt(dx * dx + dy * dy); if (d &lt; 60) &#123; dancerDrag = dancer; pointDrag = point; dancer.frame = 0; &#125; &#125; &#125; &#125;, up(e) &#123; dancerDrag = null; &#125;, move(e) &#123; let touchMode = e.targetTouches, pointer; if (touchMode) &#123; e.preventDefault(); pointer = touchMode[0]; &#125; else pointer = e; this.x = pointer.clientX; this.y = pointer.clientY; &#125; &#125;; // ---- init ---- const dancers = []; let ground = 1.0; const ctx = canvas.init(); pointer.init(canvas); let dancerDrag = null; let pointDrag = null; // ---- dance ---- const dance = () =&gt; &#123; ctx.save(); for (let i = 0; i &lt; dancers.length; i++) &#123; const d0 = dancers[i]; d0.update(); // separation behavior for (let j = i + 1; j &lt; dancers.length; j++) &#123; const d1 = dancers[j]; const minDist = Math.abs(d0.x - d1.x); const actDist = Math.abs(d0.points[2].x - d1.points[2].x); if (actDist &lt; minDist * 0.8) &#123; const d = minDist - actDist; if (d0.points[2].x &lt; d1.points[2].x) &#123; d0.points[2].x -= d * 0.001; d1.points[2].x += d * 0.001; &#125; else &#123; d0.points[2].x += d * 0.001; d1.points[2].x -= d * 0.001; &#125; &#125; &#125; &#125; ctx.restore(); &#125; // ---- main loop ---- const run = () =&gt; &#123; requestAnimationFrame(run); ctx.clearRect(0, 0, canvas.width, canvas.height); ctx.fillStyle = "#222"; ctx.fillRect(0, 0, canvas.width, canvas.height * 0.15); ctx.fillRect(0, canvas.height * 0.85, canvas.width, canvas.height * 0.15); dance(); &#125;; // ---- robot structure ---- const struct = &#123; points: [ &#123; x: 0, y: -4, f(s, d) &#123; this.y -= 0.01 * s; &#125; &#125;, &#123; x: 0, y: -16, f(s, d) &#123; this.y -= 0.02 * s * d; &#125; &#125;, &#123; x: 0, y: 12, f(s, d) &#123; this.y += 0.02 * s * d; &#125; &#125;, &#123; x: -12, y: 0 &#125;, &#123; x: 12, y: 0 &#125;, &#123; x: -3, y: 34, f(s, d) &#123; if (d &gt; 0) &#123; this.x += 0.01 * s; this.y -= 0.015 * s; &#125; else &#123; this.y += 0.02 * s; &#125; &#125; &#125;, &#123; x: 3, y: 34, f(s, d) &#123; if (d &gt; 0) &#123; this.y += 0.02 * s; &#125; else &#123; this.x -= 0.01 * s; this.y -= 0.015 * s; &#125; &#125; &#125;, &#123; x: -28, y: 0, f(s, d) &#123; this.x += this.vx * 0.025; this.y -= 0.001 * s; &#125; &#125;, &#123; x: 28, y: 0, f(s, d) &#123; this.x += this.vx * 0.025; this.y -= 0.001 * s; &#125; &#125;, &#123; x: -3, y: 64, f(s, d) &#123; this.y += 0.015 * s; if (d &gt; 0) &#123; this.y -= 0.01 * s; &#125; else &#123; this.y += 0.05 * s; &#125; &#125; &#125;, &#123; x: 3, y: 64, f(s, d) &#123; this.y += 0.015 * s; if (d &gt; 0) &#123; this.y += 0.05 * s; &#125; else &#123; this.y -= 0.01 * s; &#125; &#125; &#125; ], links: [ &#123; p0: 3, p1: 7, size: 12, lum: 0.5 &#125;, &#123; p0: 1, p1: 3, size: 24, lum: 0.5 &#125;, &#123; p0: 1, p1: 0, size: 60, lum: 0.5, disk: 1 &#125;, &#123; p0: 5, p1: 9, size: 16, lum: 0.5 &#125;, &#123; p0: 2, p1: 5, size: 32, lum: 0.5 &#125;, &#123; p0: 1, p1: 2, size: 50, lum: 1 &#125;, &#123; p0: 6, p1: 10, size: 16, lum: 1.5 &#125;, &#123; p0: 2, p1: 6, size: 32, lum: 1.5 &#125;, &#123; p0: 4, p1: 8, size: 12, lum: 1.5 &#125;, &#123; p0: 1, p1: 4, size: 24, lum: 1.5 &#125; ] &#125;; // ---- instanciate robots ---- for (let i = 0; i &lt; 4; i++) &#123; dancers.push( new Robot( i * 360 / 7, 80, 4, (i + 2) * canvas.width / 9, canvas.height * ground - 300, struct ) ); &#125; // ---- warm up ---- run();&#125;&lt;/script&gt;&lt;canvas style="width: 100%; height: 500px; background: #000; cursor: pointer;"&gt;&lt;/canvas&gt;&lt;script&gt;&#123; class Robot &#123; constructor(color, light, size, x, y, struct) &#123; this.x = x; this.points = []; this.links = []; this.frame = 0; this.dir = 1; this.size = size; this.color = Math.round(color); this.light = light; // ---- create points ---- for (const p of struct.points) &#123; this.points.push(new Robot.Point(size * p.x + x, size * p.y + y, p.f)); &#125; // ---- create links ---- for (const link of struct.links) &#123; const p0 = this.points[link.p0]; const p1 = this.points[link.p1]; const dx = p0.x - p1.x; const dy = p0.y - p1.y; this.links.push( new Robot.Link( this, p0, p1, Math.sqrt(dx * dx + dy * dy), link.size * size / 3, link.lum, link.force, link.disk ) ); &#125; &#125; update() &#123; if (++this.frame % 20 === 0) this.dir = -this.dir; if ( dancerDrag &amp;&amp; this === dancerDrag &amp;&amp; this.size &lt; 16 &amp;&amp; this.frame &gt; 600 ) &#123; dancerDrag = null; dancers.push( new Robot( this.color + 90, this.light * 1.25, this.size * 2, pointer.x, pointer.y - 100 * this.size * 2, struct ) ); dancers.sort(function(d0, d1) &#123; return d0.size - d1.size; &#125;); &#125; // ---- update links ---- for (const link of this.links) link.update(); // ---- update points ---- for (const point of this.points) point.update(this); // ---- ground ---- for (const link of this.links) &#123; const p1 = link.p1; if (p1.y &gt; canvas.height * ground - link.size * 0.5) &#123; p1.y = canvas.height * ground - link.size * 0.5; p1.x -= p1.vx; p1.vx = 0; p1.vy = 0; &#125; &#125; // ---- screen limits ---- if (this.points[1].x &lt; 0) this.points[1].x = 0; else if (this.points[1].x &gt; canvas.width) this.points[1].x = canvas.width; &#125; &#125; Robot.Link = class Link &#123; constructor(parent, p0, p1, dist, size, light, force, disk) &#123; this.p0 = p0; this.p1 = p1; this.distance = dist; this.size = size; this.light = light || 1.0; this.force = force || 0.5; this.color = `hsl($&#123;parent.color&#125;, 30%, $&#123;parent.light * this.light&#125;%)`; this.disk = disk; &#125; update() &#123; const p0 = this.p0; const p1 = this.p1; const dx = p1.x - p0.x; const dy = p1.y - p0.y; const dist = Math.sqrt(dx * dx + dy * dy); if (dist &gt; 0.0) &#123; const tw = p0.w + p1.w; const r1 = p1.w / tw; const r0 = p0.w / tw; const dz = (this.distance - dist) * this.force; const sx = dx / dist * dz; const sy = dy / dist * dz; p1.x += sx * r0; p1.y += sy * r0; p0.x -= sx * r1; p0.y -= sy * r1; &#125; // ---- draw link ---- if (this.size) &#123; const w = this.size; const a = Math.atan2(dy, dx); const c = Math.cos(a); const s = Math.sin(a); if (this.disk) &#123; ctx.setTransform(c, s, -s, c, p1.x + w * 0.25, p1.y + w * 0.25); ctx.beginPath(); ctx.arc(0, 0, w * 0.5, 0, 2 * Math.PI); ctx.fillStyle = "rgba(0, 0, 0, 0.5)"; ctx.fill(); &#125; else &#123; ctx.setTransform(c, s, -s, c, p0.x + w * 0.25, p0.y + w * 0.25); ctx.beginPath(); ctx.lineCap = "round"; ctx.lineWidth = w; ctx.beginPath(); ctx.strokeStyle = "rgba(0, 0, 0, 0.5)"; ctx.moveTo(0, 0); ctx.lineTo(dist, 0); ctx.stroke(); &#125; if (this.disk) &#123; ctx.setTransform(c, s, -s, c, p1.x, p1.y); ctx.beginPath(); ctx.arc(0, 0, w * 0.5, 0, 2 * Math.PI); ctx.fillStyle = this.color; ctx.fill(); ctx.fillStyle = "#000"; ctx.fillRect(-w * 0.1, -w * 0.1, w * 0.2, w * 0.2); &#125; else &#123; ctx.setTransform(c, s, -s, c, p0.x, p0.y); ctx.beginPath(); ctx.lineCap = "round"; ctx.lineWidth = w; ctx.beginPath(); ctx.strokeStyle = this.color; ctx.moveTo(0, 0); ctx.lineTo(dist, 0); ctx.stroke(); ctx.fillStyle = "#000"; ctx.fillRect(-w * 0.1, -w * 0.1, w * 0.2, w * 0.2); ctx.fillRect(dist - w * 0.1, -w * 0.1, w * 0.2, w * 0.2); &#125; &#125; &#125; &#125;; Robot.Point = class Point &#123; constructor(x, y, fn, w) &#123; this.x = x; this.y = y; this.w = w || 0.5; this.fn = fn || null; this.px = x; this.py = y; this.vx = 0.0; this.vy = 0.0; &#125; update (robot) &#123; // ---- dragging ---- if (robot === dancerDrag &amp;&amp; this === pointDrag) &#123; this.x += (pointer.x - this.x) * 0.1; this.y += (pointer.y - this.y) * 0.1; &#125; // ---- dance ---- if (robot !== dancerDrag) &#123; this.fn &amp;&amp; this.fn(16 * Math.sqrt(robot.size), robot.dir); &#125; // ---- verlet integration ---- this.vx = this.x - this.px; this.vy = this.y - this.py; this.px = this.x; this.py = this.y; this.vx *= 0.995; this.vy *= 0.995; this.x += this.vx; this.y += this.vy + 0.01; &#125; &#125;; // ---- set canvas ---- const canvas = &#123; init() &#123; this.elem = document.querySelector("canvas"); this.resize(); window.addEventListener("resize", () =&gt; this.resize(), false); return this.elem.getContext("2d"); &#125;, resize() &#123; this.width = this.elem.width = this.elem.offsetWidth; this.height = this.elem.height = this.elem.offsetHeight; ground = this.height &gt; 500 ? 0.85 : 1.0; for (let i = 0; i &lt; dancers.length; i++) &#123; dancers[i].x = (i + 2) * canvas.width / 9; &#125; &#125; &#125;; // ---- set pointer ---- const pointer = &#123; init(canvas) &#123; this.x = 0; this.y = 0; window.addEventListener("mousemove", e =&gt; this.move(e), false); canvas.elem.addEventListener("touchmove", e =&gt; this.move(e), false); window.addEventListener("mousedown", e =&gt; this.down(e), false); window.addEventListener("touchstart", e =&gt; this.down(e), false); window.addEventListener("mouseup", e =&gt; this.up(e), false); window.addEventListener("touchend", e =&gt; this.up(e), false); &#125;, down(e) &#123; this.move(e); for (const dancer of dancers) &#123; for (const point of dancer.points) &#123; const dx = pointer.x - point.x; const dy = pointer.y - point.y; const d = Math.sqrt(dx * dx + dy * dy); if (d &lt; 60) &#123; dancerDrag = dancer; pointDrag = point; dancer.frame = 0; &#125; &#125; &#125; &#125;, up(e) &#123; dancerDrag = null; &#125;, move(e) &#123; let touchMode = e.targetTouches, pointer; if (touchMode) &#123; e.preventDefault(); pointer = touchMode[0]; &#125; else pointer = e; this.x = pointer.clientX; this.y = pointer.clientY; &#125; &#125;; // ---- init ---- const dancers = []; let ground = 1.0; const ctx = canvas.init(); pointer.init(canvas); let dancerDrag = null; let pointDrag = null; // ---- dance ---- const dance = () =&gt; &#123; ctx.save(); for (let i = 0; i &lt; dancers.length; i++) &#123; const d0 = dancers[i]; d0.update(); // separation behavior for (let j = i + 1; j &lt; dancers.length; j++) &#123; const d1 = dancers[j]; const minDist = Math.abs(d0.x - d1.x); const actDist = Math.abs(d0.points[2].x - d1.points[2].x); if (actDist &lt; minDist * 0.8) &#123; const d = minDist - actDist; if (d0.points[2].x &lt; d1.points[2].x) &#123; d0.points[2].x -= d * 0.001; d1.points[2].x += d * 0.001; &#125; else &#123; d0.points[2].x += d * 0.001; d1.points[2].x -= d * 0.001; &#125; &#125; &#125; &#125; ctx.restore(); &#125; // ---- main loop ---- const run = () =&gt; &#123; requestAnimationFrame(run); ctx.clearRect(0, 0, canvas.width, canvas.height); ctx.fillStyle = "#222"; ctx.fillRect(0, 0, canvas.width, canvas.height * 0.15); ctx.fillRect(0, canvas.height * 0.85, canvas.width, canvas.height * 0.15); dance(); &#125;; // ---- robot structure ---- const struct = &#123; points: [ &#123; x: 0, y: -4, f(s, d) &#123; this.y -= 0.01 * s; &#125; &#125;, &#123; x: 0, y: -16, f(s, d) &#123; this.y -= 0.02 * s * d; &#125; &#125;, &#123; x: 0, y: 12, f(s, d) &#123; this.y += 0.02 * s * d; &#125; &#125;, &#123; x: -12, y: 0 &#125;, &#123; x: 12, y: 0 &#125;, &#123; x: -3, y: 34, f(s, d) &#123; if (d &gt; 0) &#123; this.x += 0.01 * s; this.y -= 0.015 * s; &#125; else &#123; this.y += 0.02 * s; &#125; &#125; &#125;, &#123; x: 3, y: 34, f(s, d) &#123; if (d &gt; 0) &#123; this.y += 0.02 * s; &#125; else &#123; this.x -= 0.01 * s; this.y -= 0.015 * s; &#125; &#125; &#125;, &#123; x: -28, y: 0, f(s, d) &#123; this.x += this.vx * 0.025; this.y -= 0.001 * s; &#125; &#125;, &#123; x: 28, y: 0, f(s, d) &#123; this.x += this.vx * 0.025; this.y -= 0.001 * s; &#125; &#125;, &#123; x: -3, y: 64, f(s, d) &#123; this.y += 0.015 * s; if (d &gt; 0) &#123; this.y -= 0.01 * s; &#125; else &#123; this.y += 0.05 * s; &#125; &#125; &#125;, &#123; x: 3, y: 64, f(s, d) &#123; this.y += 0.015 * s; if (d &gt; 0) &#123; this.y += 0.05 * s; &#125; else &#123; this.y -= 0.01 * s; &#125; &#125; &#125; ], links: [ &#123; p0: 3, p1: 7, size: 12, lum: 0.5 &#125;, &#123; p0: 1, p1: 3, size: 24, lum: 0.5 &#125;, &#123; p0: 1, p1: 0, size: 60, lum: 0.5, disk: 1 &#125;, &#123; p0: 5, p1: 9, size: 16, lum: 0.5 &#125;, &#123; p0: 2, p1: 5, size: 32, lum: 0.5 &#125;, &#123; p0: 1, p1: 2, size: 50, lum: 1 &#125;, &#123; p0: 6, p1: 10, size: 16, lum: 1.5 &#125;, &#123; p0: 2, p1: 6, size: 32, lum: 1.5 &#125;, &#123; p0: 4, p1: 8, size: 12, lum: 1.5 &#125;, &#123; p0: 1, p1: 4, size: 24, lum: 1.5 &#125; ] &#125;; // ---- instanciate robots ---- for (let i = 0; i &lt; 4; i++) &#123; dancers.push( new Robot( i * 360 / 7, 80, 4, (i + 2) * canvas.width / 9, canvas.height * ground - 300, struct ) ); &#125; // ---- warm up ---- run();&#125;&lt;/script&gt;]]></content>
      <categories>
        <category>ÁΩëÊëò</category>
      </categories>
      <tags>
        <tag>ÁΩëÊëò</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[gitÁ¨îËÆ∞]]></title>
    <url>%2F2018%2F09%2F23%2Fgit%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[ÂèÇËÄÉÊïôÁ®ãÔºöÊ≤âÊµ∏ÂºèÂ≠¶Git http://igit.linuxtoy.org/contents.html ËÆæÁΩÆÁºñËæëÂô®1git config --global core.editor &quot;vim&quot; cloneÊåáÂÆöÂàÜÊîØ1git clone -b ÂàÜÊîØÂêç http://xxxxxxx alisaÂà´Âêç12345678910$vim ~/.gitconfig[alisa] co = checkout ci = commit st = status br = branch hist = log --pretty=format:'%h %ad | %s%d [%an]' --graph --date=short type = cat-file -t dump = cat-file -p ‰øùÂ≠òÂØÜÁ†Å ËÆæÁΩÆËÆ∞‰ΩèÂØÜÁ†ÅÔºàÈªòËÆ§15ÂàÜÈíüÔºâÔºögit config ‚Äìglobal credential.helper cache Â¶ÇÊûúÊÉ≥Ëá™Â∑±ËÆæÁΩÆÊó∂Èó¥ÔºåÂèØ‰ª•ËøôÊ†∑ÂÅöÔºögit config credential.helper ‚Äòcache ‚Äìtimeout=3600‚ÄôËøôÊ†∑Â∞±ËÆæÁΩÆ‰∏Ä‰∏™Â∞èÊó∂‰πãÂêéÂ§±Êïà ÈïøÊúüÂ≠òÂÇ®ÂØÜÁ†ÅÔºögit config --global credential.helper store Â¢ûÂä†ËøúÁ®ãÂú∞ÂùÄÁöÑÊó∂ÂÄôÂ∏¶‰∏äÂØÜÁ†Å‰πüÊòØÂèØ‰ª•ÁöÑ„ÄÇ(Êé®Ëçê)http://yourname:password@git.oschina.net/name/project.git ÈÄÄÂõûÊú¨Âú∞Êú™Êèê‰∫§Êõ¥ÊîπÂà†Èô§untrackedÁöÑÊñá‰ª∂1$git clean -df Â∞ÜtrackedÊñá‰ª∂ÈÄÄÂõûÔºå‰∏çÂÜôhashÂàôÈÄÄÂõû‰∏ä‰∏Ä‰∏™ÁâàÊú¨1$git reset --hard &lt;hash&gt; Âà†Èô§Êñá‰ª∂‰øùÁïôÊú¨Âú∞Êñá‰ª∂1$git rm -r --cached some-directory tag123456$ git tag -a &apos;v1.5&apos; -m &apos;Ê≥®Èáä&apos; //ÂàõÂª∫Êú¨Âú∞Ê†áÁ≠æ$ git push origin v1.5 //Êèê‰∫§Êú¨Âú∞Ê†áÁ≠æÂà∞ËøúÁ®ã$ git push origin --tags //Êèê‰∫§ÊâÄÊúâÊú¨Âú∞Ê†áÁ≠æÂà∞ËøúÁ®ã$ git tag -l //Ê†áÁ≠æÂàóË°®$ git tag -d v1.5 //Âà†Èô§Êú¨Âú∞Ê†áÁ≠æ$ git push origin --delete tag v1.5 //Âà†Èô§ËøúÁ®ãÊ†áÁ≠æ ‰∏ãËΩΩÂ≠êÊ®°Âùó1git submodule update --init --recursive Âà†Èô§Â≠êÊ®°Âùó1234567git submodule deinit Ê®°ÂùóÂêçÂ≠ó# Âà†Èô§.gitmodules‰∏≠ËÆ∞ÂΩïÁöÑÊ®°Âùó‰ø°ÊÅØÔºà--cachedÈÄâÈ°πÊ∏ÖÈô§.git/modules‰∏≠ÁöÑÁºìÂ≠òÔºâgit rm --cached Ê®°ÂùóÂêçÂ≠ó# Êèê‰∫§Êõ¥ÊîπÂà∞‰ª£Á†ÅÂ∫ìÔºåÂèØËßÇÂØüÂà∞&apos;.gitmodules&apos;ÂÜÖÂÆπÂèëÁîüÂèòÊõ¥git commit -am &quot;Remove a submodule.&quot; submoduleÁî®Ê≥ï12# ÊãâÂèñÂ≠êÊ®°Âùógit submodule add https://github.com/cofess/hexo-theme-pure themes/pure forkÂêéÂêàÂπ∂Âéü‰ΩúËÄÖÊõ¥Êñ∞12345678910111213git remote add upstream https://github.com/Âéü‰ΩúËÄÖÂú∞ÂùÄecho &quot;Ëé∑ÂèñËøúÁ®ãÊ∫êÁöÑÊõ¥Êñ∞„ÄÇ&quot;git fetch upstreamecho &quot;ÂêàÂπ∂Âà∞Êú¨Âú∞Â∫ì‰∏≠„ÄÇ&quot;git merge upstream/masterecho &quot;Êèê‰∫§Âà∞Êú¨Âú∞ÁâàÊú¨Â∫ì‰∏≠„ÄÇ&quot;git commit -a -m &quot;merged upstream.&quot;echo &quot;Êé®ÈÄÅÊèê‰∫§Âà∞Ëá™Â∑±ÁöÑgithubÂ∫ì‰∏≠„ÄÇ&quot;git push]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>git</tag>
        <tag>Â≠¶‰π†Á¨îËÆ∞</tag>
      </tags>
  </entry>
</search>
